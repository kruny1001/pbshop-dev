"use strict";function D2lHomeController($scope,$window,$http,Authentication,D2LOauth,D2lHwsSubmits,D2lClasses,D2lHws){$scope.classes=D2lClasses.query(),$scope.hws=D2lHws.query(),$scope.hwsCopy=[].concat($scope.hws),$scope.totalHwPoints=0,$scope.totalPercentages=0,$scope.allGrade=[],$http.get("/d2l-grades").success(function(result){$scope.allGrade=result,console.log(result)});var authentication=Authentication;$scope.gradeCollection=[{numAssignment:"A1",grade:200,total:250,docLink:""},{numAssignment:"A2",grade:160,total:250,docLink:""},{numAssignment:"A3",grade:220,total:250,docLink:""},{numAssignment:"A4",grade:75,total:100,docLink:""},{numAssignment:"A5",grade:85,total:150,docLink:""}],$scope.hws.$promise.then(function(){angular.forEach($scope.hws,function(value){$scope.totalHwPoints+=value.totalGrade,$scope.totalPercentages+=value.percent})}),$scope.linkHW=function(docId){var AppScriptAPI="https://script.google.com/macros/s/AKfycbzoXxZDgzjLOJdqGUGYCWSpIT7n2sHyvnIo2W7E5jmXI_2sryj3/exec?docId="+docId+"&userId="+authentication.user.username;$window.open(AppScriptAPI)}}function gridListDemoCtrl($scope){function goToHWList(){}function buildGridModel(tileTmpl){for(var it,results=[],j=0;12>j;j++){switch(it=angular.extend({},tileTmpl),it.icon=it.icon+(j+1),it.title=it.title+(j+1),it.span={row:"1",col:"1"},j+1){case 1:it.background="red",it.title="Notifications";break;case 2:it.background="green",it.title="Classes";break;case 3:it.background="darkBlue",it.title="List HWs",it.state="classes";break;case 4:it.background="blue",it.title="Grades";break;case 5:it.background="yellow",it.title="Articles";break;case 6:it.background="pink",it.title="Tutorials";break;case 7:it.background="darkBlue",it.title="Projects";break;case 8:it.background="purple",it.title="Portfolio";break;case 9:it.background="deepBlue",it.title="Career";break;case 10:it.background="lightPurple",it.title="MEANJS Stack";break;case 11:it.background="yellow";break;case 12:it.background="deepBlue"}results.push(it)}return results}$scope.test=function(event){console.log("dddd");var target=event.target;console.log(target),TweenLite.to(target,.3,{opacity:.8,scale:.85}),TweenLite.to(target,.3,{opacity:1,scale:1,rotation:360,delay:.2,onComplete:goToHWList})},this.tiles=buildGridModel({icon:"avatar:svg-",title:"Svg-",background:""})}function DemoCtrl($timeout,$q){function querySearch(query){var deferred,results=query?self.states.filter(createFilterFor(query)):[];return self.simulateQuery?(deferred=$q.defer(),$timeout(function(){deferred.resolve(results)},1e3*Math.random(),!1),deferred.promise):results}function loadAll(){var allStates="Alabama, Alaska, Arizona, Arkansas, California, Colorado, Connecticut, Delaware,              Florida, Georgia, Hawaii, Idaho, Illinois, Indiana, Iowa, Kansas, Kentucky, Louisiana,              Maine, Maryland, Massachusetts, Michigan, Minnesota, Mississippi, Missouri, Montana,              Nebraska, Nevada, New Hampshire, New Jersey, New Mexico, New York, North Carolina,              North Dakota, Ohio, Oklahoma, Oregon, Pennsylvania, Rhode Island, South Carolina,              South Dakota, Tennessee, Texas, Utah, Vermont, Virginia, Washington, West Virginia,              Wisconsin, Wyoming";return allStates.split(/, +/g).map(function(state){return{value:state.toLowerCase(),display:state}})}function createFilterFor(query){var lowercaseQuery=angular.lowercase(query);return function(state){return 0===state.value.indexOf(lowercaseQuery)}}var self=this;self.states=loadAll(),self.selectedItem=null,self.searchText=null,self.querySearch=querySearch,self.simulateQuery=!1}function GDriveSelectResult(){var selectedDocs={id:""};return selectedDocs}function GDriveFilePicker($scope,Googledrive,configGdrive,GDriveSelectResult){function handleAuthentication(result){result&&!result.error?($scope.isAuth=!0,$scope.authName="Deauthorize",accessToken=result.access_token,$scope.setupPicker()):(console.log(result),console.log(result.error),console.log("fail to authentication"))}$scope.isAuth=!0,$scope.docs=[],$scope.setupPicker=function(){function pickerCallback(data){data.action==google.picker.Action.PICKED?($scope.files=data.docs,$scope.arrive=!0,GDriveSelectResult.id=data.docs[0].id,$scope.$emit("handleEmit",{message:GDriveSelectResult.id})):data.action==google.picker.Action.CANCEL}Googledrive.setupPicker(accessToken,pickerCallback)},$scope.authName="Authorization",$scope.googleDrive={info:"gDriveCtrl"},$scope.openMenu=!0,$scope.hideResult=function(){var target=$(".listFolder");TweenLite.to(target,.5,{autoAlpha:0,display:"none"})},$scope.showResult=function(){var target=$(".listFolder");TweenLite.to(target,.5,{autoAlpha:1,display:"block"})},$scope.plusTest=function(){var promise=Googledrive.plusTest();promise.then(function(result){$scope.gPlus=result,$scope.$digest()})},$scope.listingFolderInfo=function(){$scope.gDocs="dd",console.log("gDriveDashCtrl");var promise=Googledrive.listFolder();promise.then(function(result){console.log("service is done"),$scope.gDocs=result.items,$scope.$digest()})},$scope.listFile=function(){};var accessToken;$scope.arrive=!1,$scope.authName="Authorize",$scope.init=function(){window.gapi.load("auth",$scope.authenticateWithGoogle),window.gapi.load("picker")},$scope.authenticateWithGoogle=function(){window.gapi.auth.authorize({client_id:configGdrive.clientId,scope:configGdrive.scopes,immediate:!1},handleAuthentication)},$scope.findFolder=function(){console.log("findFolder");var query="mimeType = 'application/vnd.google-apps.folder'";Googledrive.findFolder(query,function(result){console.log(result)})},$scope.listFolderInformation=function(){Googledrive.listFolder()}}function HwGenerator($mdToast,$location,devConfig,D2lHws){return{templateUrl:"modules/d2l/directives/template/d2l-hw-generator-tpl.html",restrict:"E",link:function(scope){scope.isOpen=!0,scope.docTypes=["Docs","Sheets","Slides","PDF"],scope.create=function(){console.log("Create");var d2lHw=new D2lHws(scope.project);d2lHw.$save(function(response){$location.path("d2l-hws/"+response._id),scope.name=""},function(errorResponse){$scope.error=errorResponse.data.message})},scope.publishHW=function(){alert("Click")},scope.toastPosition={bottom:!0,top:!1,left:!1,right:!0},scope.getToastPosition=function(){return Object.keys(scope.toastPosition).filter(function(pos){return scope.toastPosition[pos]}).join(" ")},scope.showCustomToast=function(){$mdToast.show({controller:"ToastCtrl",templateUrl:"modules/d2l/directives/toast-template.html",hideDelay:16e3,position:scope.getToastPosition()})}}}}function HwPublisher($timeout,$http,D2lHwPermission,D2lHwCopy,D2lHws){return{templateUrl:"modules/d2l/directives/template/d2l-hw-publisher-tpl.html",restrict:"E",link:function(scope){scope.listP=function(id){scope.result=D2lHwPermission.getDoc({id:id}).$promise.then(function(value){scope.items=value.items},function(error){console.log(error)})},scope.copyFileTemplate=function(id){var users=[{email:"pbshop1001@gmail.com"},{email:"kruny1001@gmail.com"}];users.forEach(function(user){D2lHwCopy.copyDoc({id:id,userNameDoc:user.email}).$promise.then(function(value){console.log(value),alert("copy process is done")},function(error){console.log(error)})})},scope.gsCopyFile=function(){var url="http://localhost:8080/api/AKfycbwqcvW0ogVTk4o5-J89Fih5wO2XoNcsiTX_FCfbPXZdhGpIYNHW/cats";$http.get(url).success(function(data){console.log(data)}).error(function(data){})},scope.publish=function(id){scope.result=D2lHwPermission.getDoc({id:id}).$promise.then(function(value){scope.items=value.items},function(error){console.log(error)})},scope.loadUsers=function(){return scope.users=[],scope.d2lhws=D2lHws.query(),$timeout(function(){scope.users=[{id:1,name:"Copy of restFulAPI Test2",docId:"1HP0LZO1chIZSp-wxK0Gx2B5EVDrw9dVnl8y6OkQB5_k"}]},650)}}}}function CreateFile($resource){function create(){console.log("Create Function from CreateFile");var o=$resource("/userInfo",{userId:123,cardId:"@id"},{charge:{method:"POST",params:{charge:!0}},getInfo:{method:"GET"}});return o}function read(){console.log("read Function from CreateFile");var o=$resource("/createFile",{},{readFile:{method:"GET",params:{id:"@id"}}});return o}return{create:create,read:read}}function GDocs(){var SCOPE_="https://www.googleapis.com/drive/v2/";this.lastResponse=null,this.__defineGetter__("SCOPE",function(){return SCOPE_}),this.__defineGetter__("DOCLIST_FEED",function(){return SCOPE_+"files/"}),this.__defineGetter__("CREATE_SESSION_URI",function(){return"https://www.googleapis.com/upload/drive/v2/files?uploadType=resumable"}),this.__defineGetter__("DEFAULT_CHUNK_SIZE",function(){return 5242880})}function MeanLoginCtrl($scope,Authentication,$mdDialog){$scope.authentication=Authentication,$scope.hide=function(){$mdDialog.hide()},$scope.cancel=function(){$mdDialog.cancel()},$scope.answer=function(answer){$mdDialog.hide(answer)}}function MeanHomeController($scope,$state,$http,$mdDialog,$mdSidenav,$log,Authentication){$scope.homeContents={mainTitle:"Open Board",subTitleText:"is an E-learning Management System. Save time to manage contents and assignments for Instructor. Easy to access and manage assignment and contents for students"},$scope.authentication=Authentication,$scope.notice="Prototype",$(document).on("scroll",function(){$(document).scrollTop()>150?TweenMax.to($("#floatMenus"),1,{y:-51}):TweenMax.set($("#floatMenus"),{y:0})}),$scope.date={month:moment().format("MMM").toUpperCase(),date:moment().date(),year:moment().year()},$scope.goTo=function(stateName){$state.go(stateName)},$http.get("modules/mean-tutorials/data/home.json").success(function(data){$scope.dataFromJson=data,$scope.projects=$scope.dataFromJson.projects,$scope.announcements=$scope.dataFromJson.announcements,$scope.techs=$scope.dataFromJson.techs}),$scope.colorBorder={header:"blue"},$scope.close=function(){$mdSidenav("left").close()},$scope.gotoState=function(state){$state.go(state)},$scope.toggleLeft=function(){$mdSidenav("left").toggle().then(function(){$log.debug("toggle left is done")})},$scope.toggleRight=function(){$mdSidenav("right").toggle().then(function(){$log.debug("toggle RIGHT is done")})},$scope.showSignUp=function(ev){$mdDialog.show({controller:"AuthenticationController",templateUrl:"modules/mean-tutorials/template/authentication/signup-dialog.tpl.html",targetEvent:ev}).then(function(answer){$scope.alert='You said the information was "'+answer+'".'},function(){$scope.alert="You cancelled the dialog."})},$scope.showSignIn=function(ev){$mdDialog.show({controller:"AuthenticationController",templateUrl:"modules/mean-tutorials/template/authentication/signin-dialog.tpl.html",targetEvent:ev}).then(function(answer){$scope.alert='You said the information was "'+answer+'".'},function(){$scope.alert="You cancelled the dialog."})},$scope.loginBtn=function(){$state.go("signin")},$scope.signupBtn=function(){$state.go("signup")}}function OpenboardController($scope,$mdDialog,$window,$http,Authentication,Users,D2lHws,D2lClassesOwnership,UsersRole){$scope.authentication=Authentication;var authentication=Authentication;$scope.user=Authentication.user,$scope.roles=[{name:"Student",value:"student"},{name:"Instructor",value:"instructor"}],$scope.hws=D2lHws.query(),$scope.hwsCopy=[].concat($scope.hws),$scope.classes=D2lClassesOwnership.query(),$scope.classesCopy=[].concat($scope.classes),$scope.linkHW=function(hw){var AppScriptAPI="https://script.google.com/macros/s/AKfycbzoXxZDgzjLOJdqGUGYCWSpIT7n2sHyvnIo2W7E5jmXI_2sryj3/exec?",param="docId="+hw.gdocId+"&userId="+authentication.user.username+"&title="+hw.title+"&dDate="+hw.dDate+"&userIdRef="+hw.user._id+"&classId="+hw["class"]._id;$window.open(AppScriptAPI+param)},$scope.showSignUp=function(ev){$mdDialog.show({controller:"AuthenticationController",templateUrl:"modules/mean-tutorials/template/authentication/signup-dialog.tpl.html",targetEvent:ev})},$scope.showSignIn=function(ev){$mdDialog.show({controller:"AuthenticationController",templateUrl:"modules/mean-tutorials/template/authentication/signin-dialog.tpl.html",targetEvent:ev})},$scope.showSetRule=function(ev){$mdDialog.show({controller:"OpenboardController",templateUrl:"modules/openboard/template/tutorial/setRole-dialog.tpl.html",targetEvent:ev,clickOutsideToClose:!1}).then(function(answer){$scope.alert='You updated as "'+answer+'".'},function(){$scope.alert="You cancelled."})},$scope.cancel=function(){$mdDialog.cancel()},$scope.answer=function(){},$scope.setRole=function(){console.log("openboardCtrl-setRole "+$scope.user.roles),$scope.user.roles=$scope.credentials.roles,console.log("openboardCtrl-setRole "+$scope.user.roles);var user=new UsersRole($scope.user);user.$update(function(result){Authentication.user=result,$scope.user=Authentication.user,$scope.alert="[Success] Update",$mdDialog.hide($scope.credentials.roles)},function(response){$scope.error=response.data.message})},$scope.showNewClass=function(ev){function D2lClassDialogCtrl($scope,$mdDialog,D2lClasses){$scope.cancel=function(){$mdDialog.cancel()},$scope.create=function(){var d2lClass=new D2lClasses({name:this.name,prefix:this.prefix});d2lClass.$save(function(){$scope.name="",$scope.prefix="",$mdDialog.hide()},function(errorResponse){$scope.error=errorResponse.data.message})}}$mdDialog.show({controller:D2lClassDialogCtrl,templateUrl:"modules/openboard/template/tutorial/newClass-dialog.tpl.html",targetEvent:ev,clickOutsideToClose:!1}).then(function(){console.log("created Class"),$scope.classes=D2lClassesOwnership.query(),$scope.classesCopy=[].concat($scope.classes)},function(){console.log("2")})},$scope.showNewAssign=function(ev){function D2lHwDialogCtrl(scope,$timeout,$mdDialog,D2lHws,D2lClassesOwnership,GDriveSelectResult){scope.$on("handleEmit",function(event,args){console.log("broadcast is invoked"),scope.project.gdocId=args.message}),scope.cancel=function(){$mdDialog.hide()},scope.docs=GDriveSelectResult,scope.project={gdocId:scope.docs.id},scope.project={dDate:new Date("4/1/2015"),gdocId:GDriveSelectResult.id},scope.loadClasses=function(){return console.log("Load Class is invoked"),$timeout(function(){scope.classes=D2lClassesOwnership.query()},650)},scope.createNewRecord=function(){console.log("Create");var d2lHw=new D2lHws(scope.project);d2lHw["class"]=d2lHw["class"]._id,d2lHw.$save(function(){scope.name="",$mdDialog.cancel(),scope.project=null},function(errorResponse){scope.error=errorResponse.data.message})}}$mdDialog.show({controller:D2lHwDialogCtrl,templateUrl:"modules/openboard/template/tutorial/newAssign-dialog.tpl.html",targetEvent:ev,clickOutsideToClose:!1})},$scope.setRoleAsStudent=function(){$scope.user.roles="student";var user=new Users($scope.user);user.$update(function(response){$scope.success=!0,Authentication.user=response,$scope.user=response,$mdDialog.hide()},function(response){$scope.error=response.data.message})}}function yourDirectiveName($window){function link(scope,element,attributes){var w=angular.element($window);scope.getWindowWidth=function(){return w.width()},scope.$watch(scope.getWindowWidth,function(newWidth,oldWidth){if(newWidth!=oldWidth)switch(!0){case 600>newWidth:case newWidth>=600&&600>oldWidth:case oldWidth>=768&&768>newWidth:case newWidth>=768&&768>oldWidth:case oldWidth>=992&&992>newWidth:case newWidth>=992&&992>oldWidth:case oldWidth>=1200&&1200>newWidth:case newWidth>=1200&&1200>oldWidth:scope.renderChart(element[0],attributes.color)}}),w.bind("resize",function(){scope.$apply()}),scope.$watchCollection("[data, renderer]",function(newValue){newValue[0]&&scope.renderChart(element[0],attributes.color)}),scope.renderChart=function(element,color){element.innerHTML="";var graph=new Rickshaw.Graph({element:element,series:[{data:scope.data,color:color}],renderer:scope.renderer});graph.render()}}var directive={link:link,restrict:"AE",scope:{data:"=",renderer:"="}};return directive}function OrderDirective($tcOrder,$interpolate,$compile,$parse,$mdToast){function compile(element){console.log(element);element.find("tc-order-label").remove();return function(scope){scope.orderDate=moment()._d,scope.deliberyDate=moment()._d,scope.address="Not Yet",scope.numOrder=1,scope.detailInfo="빠른베송 부탁 드립니다.",scope.price=900*scope.numOrder,scope.getTotal=function(){scope.price=900*scope.numOrder};var toastPosition={bottom:!0,top:!1,left:!1,right:!0},getToastPosition=function(){return Object.keys(toastPosition).filter(function(pos){return toastPosition[pos]}).join(" ")};scope.createToast=function(){$mdToast.show({controller:function($scope,$mdToast){$scope.closeToast=function(){$mdToast.hide()}},template:'<md-toast> <span flex>Submitted</span> <md-button ng-click="closeToast()">Close </md-button> </md-toast>',hideDelay:6e3,position:getToastPosition()})}}}return{restrict:"E",scope:{userInfo:"=userInfo"},templateUrl:"modules/the-clean/directives/template/tc-order-ui-tpl.html",require:["tcOrder"],compile:compile,controller:"TheCleanCrudsController"}}function OrderHeader($mdTheming){return{restrict:"E",link:function($scope,$element){function reverseRepeat(tl){tl.reverse(0)}function complete(tl){tl.restart(),console.log("Complete")}function prepNext(timeline,slide){TweenMax.set(slide,{display:"none"})}var progressBar='<div id="progressBar"></div>';$element.append(progressBar);var images=$element.find("img"),tl=new TimelineMax({onReverseComplete:reverseRepeat,onReverseCompleteParams:["{self}"],onComplete:complete,onCompleteParams:["{self}"]}),time=3.2,a1=(TweenMax.set(images,{display:"none"}),TweenMax.to(images[0],time,{autoAlpha:0,display:"block"})),a2=TweenMax.to(images[1],time,{autoAlpha:0,display:"block"}),a3=TweenMax.to(images[2],time,{autoAlpha:0,display:"block"}),slideTl1=new TimelineMax({onComplete:prepNext,onCompleteParams:["{self}",images[0]]});slideTl1.add(a1).from($("#progressBar"),slideTl1.duration(),{scaleX:0,transformOrigin:"0px 0px",ease:Linear.easeNone},0);var slideTl2=new TimelineMax({onComplete:prepNext,onCompleteParams:["{self}",images[1]]});slideTl2.add(a2).from($("#progressBar"),slideTl2.duration(),{scaleX:0,transformOrigin:"0px 0px",ease:Linear.easeNone},0);var slideTl3=new TimelineMax({onComplete:prepNext,onCompleteParams:["{self}",images[2]]});slideTl3.add(a3).from($("#progressBar"),slideTl3.duration(),{scaleX:0,transformOrigin:"0px 0px",ease:Linear.easeNone},0),tl.set(images,{display:"none"}).add(slideTl1).add(slideTl2).add(slideTl3).play(),$mdTheming($element)}}}function GetRequires(){function preLink(scope,element,attr,ctrls){function configureAria(){element.attr({id:"select_menu_"+$mdUtil.nextUid(),role:"listbox","aria-multiselectable":selectCtrl.isMultiple?"true":"false"})}function keyListener(e){(13==e.keyCode||32==e.keyCode)&&clickListener(e)}function clickListener(ev){var option=$mdUtil.getClosest(ev.target,"md-option"),optionCtrl=option&&angular.element(option).data("$mdOptionController");if(option&&optionCtrl){var optionHashKey=selectCtrl.hashGetter(optionCtrl.value),isSelected=angular.isDefined(selectCtrl.selected[optionHashKey]);scope.$apply(function(){selectCtrl.isMultiple?isSelected?selectCtrl.deselect(optionHashKey):selectCtrl.select(optionHashKey,optionCtrl.value):isSelected||(selectCtrl.deselect(Object.keys(selectCtrl.selected)[0]),selectCtrl.select(optionHashKey,optionCtrl.value)),selectCtrl.refreshViewValue()})}}var selectCtrl=ctrls[0],ngModel=ctrls[1];element.on("click"),element.on("keypress",keyListener),ngModel&&selectCtrl.init(ngModel),configureAria()}return{restrict:"E",require:["tcGetRequires","?ngModel"],controller:GetRequiresController,link:{pre:preLink}}}function SelectProvider($$interimElementProvider){function selectDefaultOptions($tcOrder,$mdConstant,$$rAF,$mdUtil,$mdTheming,$timeout){function onShow(scope,element,opts){function configureAria(){opts.selectEl.attr("aria-labelledby",opts.target.attr("id")),opts.target.attr("aria-owns",opts.selectEl.attr("id")),opts.target.attr("aria-expanded","true")}function activateInteraction(){function focusOption(direction){var optionsArray=nodesToArray(optionNodes),index=optionsArray.indexOf(opts.focusedNode);-1===index?index=0:"next"===direction&&index<optionsArray.length-1?index++:"prev"===direction&&index>0&&index--;var newOption=opts.focusedNode=optionsArray[index];newOption&&newOption.focus()}function focusNextOption(){focusOption("next")}function focusPrevOption(){focusOption("prev")}function closeMenu(){opts.restoreFocus=!0,scope.$evalAsync(function(){$tcOrder.hide(selectCtrl.ngModel.$viewValue)})}if(!opts.isRemoved){var selectCtrl=opts.selectEl.controller("mdSelectMenu")||{};element.addClass("md-clickable"),opts.backdrop&&opts.backdrop.on("click",function(e){e.preventDefault(),e.stopPropagation(),opts.restoreFocus=!1,scope.$apply($tcOrder.cancel)}),opts.selectEl.on("keydown",function(ev){switch(ev.keyCode){case $mdConstant.KEY_CODE.SPACE:case $mdConstant.KEY_CODE.ENTER:var option=$mdUtil.getClosest(ev.target,"md-option");option&&(opts.selectEl.triggerHandler({type:"click",target:option}),ev.preventDefault());break;case $mdConstant.KEY_CODE.TAB:case $mdConstant.KEY_CODE.ESCAPE:ev.preventDefault(),opts.restoreFocus=!0,scope.$apply($tcOrder.cancel)}}),opts.selectEl.on("keydown",function(ev){switch(ev.keyCode){case $mdConstant.KEY_CODE.UP_ARROW:return focusPrevOption();case $mdConstant.KEY_CODE.DOWN_ARROW:return focusNextOption()}}),selectCtrl.isMultiple||(opts.selectEl.on("click",closeMenu),opts.selectEl.on("keydown",function(e){(32==e.keyCode||13==e.keyCode)&&closeMenu()}))}}if(!opts.target)throw new Error('$tcOrder.show() expected a target element in options.target but got "'+opts.target+'"!');angular.extend(opts,{isRemoved:!1,target:angular.element(opts.target),parent:angular.element(opts.parent),selectEl:element.find("md-select-menu"),contentEl:element.find("md-content"),backdrop:opts.hasBackdrop&&angular.element('<md-backdrop class="md-select-backdrop">')}),configureAria(),element.removeClass("md-leave");var optionNodes=opts.selectEl[0].getElementsByTagName("md-option");return opts.loadingAsync&&opts.loadingAsync.then&&opts.loadingAsync.then(function(){scope.$$loadingAsyncDone=!0,$$rAF(function(){$$rAF(function(){opts.isRemoved||animateSelect(scope,element,opts)})})}),opts.disableParentScroll&&(opts.disableTarget=opts.parent.find("md-content"),opts.disableTarget.length||(opts.disableTarget=opts.parent),opts.lastOverflow=opts.disableTarget.css("overflow"),opts.disableTarget.css("overflow","hidden")),$timeout(activateInteraction,75,!1),opts.backdrop&&($mdTheming.inherit(opts.backdrop,opts.parent),opts.parent.append(opts.backdrop)),opts.parent.append(element),$$rAF(function(){$$rAF(function(){opts.isRemoved||animateSelect(scope,element,opts)})}),$mdUtil.transitionEndPromise(opts.selectEl,{timeout:350})}function onRemove(scope,element,opts){opts.isRemoved=!0,element.addClass("md-leave").removeClass("md-clickable"),opts.target.attr("aria-expanded","false"),opts.disableParentScroll&&$mdUtil.floatingScrollbars()&&(opts.disableTarget.css("overflow",opts.lastOverflow),delete opts.lastOverflow,delete opts.disableTarget);var mdSelect=opts.selectEl.controller("mdSelect");return mdSelect&&mdSelect.setLabelText(opts.selectEl.controller("mdSelectMenu").selectedLabels()),$mdUtil.transitionEndPromise(element,{timeout:350}).then(function(){element.removeClass("md-active"),opts.parent[0].removeChild(element[0]),opts.backdrop&&opts.backdrop.remove(),opts.restoreFocus&&opts.target.focus()})}function animateSelect(scope,element,opts){var centeredNode,containerNode=element[0],targetNode=opts.target[0],parentNode=opts.parent[0],selectNode=opts.selectEl[0],contentNode=opts.contentEl[0],parentRect=parentNode.getBoundingClientRect(),targetRect=$mdUtil.clientRect(targetNode,parentNode),shouldOpenAroundTarget=!1,bounds={left:parentNode.scrollLeft+SELECT_EDGE_MARGIN,top:parentNode.scrollTop+SELECT_EDGE_MARGIN,bottom:parentRect.height+parentNode.scrollTop-SELECT_EDGE_MARGIN,right:parentRect.width-SELECT_EDGE_MARGIN},spaceAvailable={top:targetRect.top-bounds.top,left:targetRect.left-bounds.left,right:bounds.right-(targetRect.left+targetRect.width),bottom:bounds.bottom-(targetRect.top+targetRect.height)},maxWidth=parentRect.width-2*SELECT_EDGE_MARGIN,isScrollable=contentNode.scrollHeight>contentNode.offsetHeight,selectedNode=selectNode.querySelector("md-option[selected]"),optionNodes=selectNode.getElementsByTagName("md-option"),optgroupNodes=selectNode.getElementsByTagName("md-optgroup");centeredNode=selectedNode?selectedNode:optgroupNodes.length?optgroupNodes[0]:optionNodes.length?optionNodes[0]:contentNode.firstElementChild||contentNode,contentNode.offsetWidth>maxWidth&&(contentNode.style["max-width"]=maxWidth+"px"),shouldOpenAroundTarget&&(contentNode.style["min-width"]=targetRect.width+"px"),isScrollable&&selectNode.classList.add("md-overflow");var selectMenuRect=selectNode.getBoundingClientRect(),centeredRect=getOffsetRect(centeredNode);if(centeredNode){var centeredStyle=window.getComputedStyle(centeredNode);centeredRect.paddingLeft=parseInt(centeredStyle.paddingLeft,10)||0,centeredRect.paddingRight=parseInt(centeredStyle.paddingRight,10)||0}var focusedNode=centeredNode;if("MD-OPTGROUP"===(focusedNode.tagName||"").toUpperCase()&&(focusedNode=optionNodes[0]||contentNode.firstElementChild||contentNode),focusedNode&&(opts.focusedNode=focusedNode,focusedNode.focus()),isScrollable){var scrollBuffer=contentNode.offsetHeight/2;contentNode.scrollTop=centeredRect.top+centeredRect.height/2-scrollBuffer,spaceAvailable.top<scrollBuffer?contentNode.scrollTop=Math.min(centeredRect.top,contentNode.scrollTop+scrollBuffer-spaceAvailable.top):spaceAvailable.bottom<scrollBuffer&&(contentNode.scrollTop=Math.max(centeredRect.top+centeredRect.height-selectMenuRect.height,contentNode.scrollTop-scrollBuffer+spaceAvailable.bottom))}var left,top,transformOrigin;shouldOpenAroundTarget?(left=targetRect.left,top=targetRect.top+targetRect.height,transformOrigin="50% 0",top+selectMenuRect.height>bounds.bottom&&(top=targetRect.top-selectMenuRect.height,transformOrigin="50% 100%")):(left=targetRect.left+centeredRect.left-centeredRect.paddingLeft,top=targetRect.top+targetRect.height/2-centeredRect.height/2-centeredRect.top+contentNode.scrollTop,transformOrigin=centeredRect.left+targetRect.width/2+"px "+(centeredRect.top+centeredRect.height/2-contentNode.scrollTop)+"px 0px",containerNode.style.minWidth=targetRect.width+centeredRect.paddingLeft+centeredRect.paddingRight+"px");var containerRect=containerNode.getBoundingClientRect();containerNode.style.left=clamp(bounds.left,left,bounds.right-containerRect.width)+"px",containerNode.style.top=clamp(bounds.top,top,bounds.bottom-containerRect.height)+"px",selectNode.style[$mdConstant.CSS.TRANSFORM_ORIGIN]=transformOrigin,selectNode.style[$mdConstant.CSS.TRANSFORM]="scale("+Math.min(targetRect.width/selectMenuRect.width,1)+","+Math.min(targetRect.height/selectMenuRect.height,1)+")",$$rAF(function(){element.addClass("md-active"),selectNode.style[$mdConstant.CSS.TRANSFORM]=""})}return{parent:"body",onShow:onShow,onRemove:onRemove,hasBackdrop:!0,disableParentScroll:$mdUtil.floatingScrollbars(),themable:!0}}function clamp(min,n,max){return Math.min(max,Math.max(n,min))}function getOffsetRect(node){return node?{left:node.offsetLeft,top:node.offsetTop,width:node.offsetWidth,height:node.offsetHeight}:{left:0,top:0,width:0,height:0}}return selectDefaultOptions.$inject=["$tcOrder","$mdConstant","$$rAF","$mdUtil","$mdTheming","$timeout"],$$interimElementProvider("$tcOrder").setDefaults({methods:["target"],options:selectDefaultOptions})}var ApplicationConfiguration=function(){var applicationModuleName="mean",applicationModuleVendorDependencies=["ngResource","ngCookies","ngAnimate","ngTouch","ngMessages","ngSanitize","ui.router","ui.bootstrap","ngMaterial","smart-table","nvd3","braintree-angular"],registerModule=function(moduleName,dependencies){angular.module(moduleName,dependencies||[]),angular.module(applicationModuleName).requires.push(moduleName)};return{applicationModuleName:applicationModuleName,applicationModuleVendorDependencies:applicationModuleVendorDependencies,registerModule:registerModule}}();angular.module(ApplicationConfiguration.applicationModuleName,ApplicationConfiguration.applicationModuleVendorDependencies),angular.module(ApplicationConfiguration.applicationModuleName).config(["$locationProvider","$compileProvider",function($locationProvider){$locationProvider.hashPrefix("!")}]),angular.element(document).ready(function(){"#_=_"===window.location.hash&&(window.location.hash="#!"),angular.bootstrap(document,[ApplicationConfiguration.applicationModuleName])}),ApplicationConfiguration.registerModule("articles"),ApplicationConfiguration.registerModule("core"),ApplicationConfiguration.registerModule("d2l-ads"),ApplicationConfiguration.registerModule("d2l-classes"),ApplicationConfiguration.registerModule("d2l-grades"),ApplicationConfiguration.registerModule("d2l-hws-submits"),ApplicationConfiguration.registerModule("d2l-hws"),ApplicationConfiguration.registerModule("d2l"),ApplicationConfiguration.registerModule("disqus"),ApplicationConfiguration.registerModule("g-drive"),ApplicationConfiguration.registerModule("mean-events"),ApplicationConfiguration.registerModule("mean-tutorials"),ApplicationConfiguration.registerModule("openboard"),ApplicationConfiguration.registerModule("size-util"),ApplicationConfiguration.registerModule("the-clean-cruds"),ApplicationConfiguration.registerModule("the-clean"),ApplicationConfiguration.registerModule("tinymce"),ApplicationConfiguration.registerModule("user-interface"),ApplicationConfiguration.registerModule("users"),ApplicationConfiguration.registerModule("util"),angular.module("articles").run(["Menus",function(){}]),angular.module("articles").config(["$stateProvider",function($stateProvider){$stateProvider.state("listArticles",{url:"/articles",templateUrl:"modules/articles/views/list-articles.client.view.html"}).state("createArticle",{url:"/articles/create",templateUrl:"modules/articles/views/create-article.client.view.html"}).state("viewArticle",{url:"/articles/:articleId",templateUrl:"modules/articles/views/view-article.client.view.html"}).state("editArticle",{url:"/articles/:articleId/edit",templateUrl:"modules/articles/views/edit-article.client.view.html"})}]),angular.module("articles").controller("ArticlesController",["$scope","$stateParams","$location","$http","$sce","Authentication","Articles",function($scope,$stateParams,$location,$http,$sce,Authentication,Articles){$scope.authentication=Authentication,$scope.docTypes=[{name:"Project"},{name:"Article"},{name:"Information"}],$scope.docType=2,$scope.radioData=[{label:"Information",value:1},{label:"Article",value:2},{label:"Project",value:3}],$scope.create=function(){var article=new Articles({title:$scope.title,docType:$scope.docType,content:$scope.content});article.$save(function(response){$location.path("articles/"+response._id),$scope.title="",$scope.type="",$scope.content=""},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.remove=function(article){if(article){article.$remove();for(var i in $scope.articles)$scope.articles[i]===article&&$scope.articles.splice(i,1)}else $scope.article.$remove(function(){$location.path("articles")})},$scope.update=function(){var article=$scope.article;article.$update(function(){$location.path("articles/"+article._id)},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.find=function(){$scope.articles=Articles.query()},$scope.findOne=function(){$scope.article=Articles.get({articleId:$stateParams.articleId},function(data){console.log(data),data.content=$sce.trustAsHtml(data.content)})}}]),angular.module("articles").factory("Articles",["$resource",function($resource){return $resource("articles/:articleId",{articleId:"@_id"},{update:{method:"PUT"}})}]),angular.module("core").config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$urlRouterProvider.otherwise("/"),$stateProvider.state("link-list",{url:"/link-list",templateUrl:"modules/core/views/link-list.client.view.html"}).state("home",{url:"/dev",templateUrl:"modules/core/views/home.client.view.html"})
}]).constant("devConfig",{directive:"red"}).constant("clientTokenPath","eyJ2ZXJzaW9uIjoyLCJhdXRob3JpemF0aW9uRmluZ2VycHJpbnQiOiIyYmFjOWMxNjE4ZjA3Mzg2YjFmNjRkYTk1Mjc1MTliOWQ3NzMyMjIxOTIxOWUzZDgzOGI4MDVlZWExYzBkY2JhfGNyZWF0ZWRfYXQ9MjAxNS0wMy0wNlQxOTo1NToxOC45MTE2MTMxMjcrMDAwMFx1MDAyNm1lcmNoYW50X2lkPWRjcHNweTJicndkanIzcW5cdTAwMjZwdWJsaWNfa2V5PTl3d3J6cWszdnIzdDRuYzgiLCJjb25maWdVcmwiOiJodHRwczovL2FwaS5zYW5kYm94LmJyYWludHJlZWdhdGV3YXkuY29tOjQ0My9tZXJjaGFudHMvZGNwc3B5MmJyd2RqcjNxbi9jbGllbnRfYXBpL3YxL2NvbmZpZ3VyYXRpb24iLCJjaGFsbGVuZ2VzIjpbXSwiY2xpZW50QXBpVXJsIjoiaHR0cHM6Ly9hcGkuc2FuZGJveC5icmFpbnRyZWVnYXRld2F5LmNvbTo0NDMvbWVyY2hhbnRzL2RjcHNweTJicndkanIzcW4vY2xpZW50X2FwaSIsImFzc2V0c1VybCI6Imh0dHBzOi8vYXNzZXRzLmJyYWludHJlZWdhdGV3YXkuY29tIiwiYXV0aFVybCI6Imh0dHBzOi8vYXV0aC52ZW5tby5zYW5kYm94LmJyYWludHJlZWdhdGV3YXkuY29tIiwiYW5hbHl0aWNzIjp7InVybCI6Imh0dHBzOi8vY2xpZW50LWFuYWx5dGljcy5zYW5kYm94LmJyYWludHJlZWdhdGV3YXkuY29tIn0sInRocmVlRFNlY3VyZUVuYWJsZWQiOnRydWUsInRocmVlRFNlY3VyZSI6eyJsb29rdXBVcmwiOiJodHRwczovL2FwaS5zYW5kYm94LmJyYWludHJlZWdhdGV3YXkuY29tOjQ0My9tZXJjaGFudHMvZGNwc3B5MmJyd2RqcjNxbi90aHJlZV9kX3NlY3VyZS9sb29rdXAifSwicGF5cGFsRW5hYmxlZCI6dHJ1ZSwicGF5cGFsIjp7ImRpc3BsYXlOYW1lIjoiQWNtZSBXaWRnZXRzLCBMdGQuIChTYW5kYm94KSIsImNsaWVudElkIjpudWxsLCJwcml2YWN5VXJsIjoiaHR0cDovL2V4YW1wbGUuY29tL3BwIiwidXNlckFncmVlbWVudFVybCI6Imh0dHA6Ly9leGFtcGxlLmNvbS90b3MiLCJiYXNlVXJsIjoiaHR0cHM6Ly9hc3NldHMuYnJhaW50cmVlZ2F0ZXdheS5jb20iLCJhc3NldHNVcmwiOiJodHRwczovL2NoZWNrb3V0LnBheXBhbC5jb20iLCJkaXJlY3RCYXNlVXJsIjpudWxsLCJhbGxvd0h0dHAiOnRydWUsImVudmlyb25tZW50Tm9OZXR3b3JrIjp0cnVlLCJlbnZpcm9ubWVudCI6Im9mZmxpbmUiLCJ1bnZldHRlZE1lcmNoYW50IjpmYWxzZSwibWVyY2hhbnRBY2NvdW50SWQiOiJzdGNoMm5mZGZ3c3p5dHc1IiwiY3VycmVuY3lJc29Db2RlIjoiVVNEIn0sImNvaW5iYXNlRW5hYmxlZCI6dHJ1ZSwiY29pbmJhc2UiOnsiY2xpZW50SWQiOiIxMWQyNzIyOWJhNThiNTZkN2UzYzAxYTA1MjdmNGQ1YjQ0NmQ0ZjY4NDgxN2NiNjIzZDI1NWI1NzNhZGRjNTliIiwibWVyY2hhbnRBY2NvdW50IjoiY29pbmJhc2UtZGV2ZWxvcG1lbnQtbWVyY2hhbnRAZ2V0YnJhaW50cmVlLmNvbSIsInNjb3BlcyI6ImF1dGhvcml6YXRpb25zOmJyYWludHJlZSB1c2VyIiwicmVkaXJlY3RVcmwiOiJodHRwczovL2Fzc2V0cy5icmFpbnRyZWVnYXRld2F5LmNvbS9jb2luYmFzZS9vYXV0aC9yZWRpcmVjdC1sYW5kaW5nLmh0bWwifSwibWVyY2hhbnRJZCI6ImRjcHNweTJicndkanIzcW4iLCJ2ZW5tbyI6Im9mZmxpbmUiLCJhcHBsZVBheSI6eyJzdGF0dXMiOiJtb2NrIiwiY291bnRyeUNvZGUiOiJVUyIsImN1cnJlbmN5Q29kZSI6IlVTRCIsIm1lcmNoYW50SWRlbnRpZmllciI6Im1lcmNoYW50LmNvbS5icmFpbnRyZWVwYXltZW50cy5kZXYtZGNvcGVsYW5kIiwic3VwcG9ydGVkTmV0d29ya3MiOlsidmlzYSIsIm1hc3RlcmNhcmQiLCJhbWV4Il19fQ=="),angular.module("ui.tinymce",[]).value("uiTinymceConfig",{plugins:"image, link, fullscreen, code, table, contextmenu, media",contextmenu:"link media image inserttable | cell row column deletetable",image_advtab:!0,image_class_list:[{title:"Responsive Size",value:"img-responsive"}],fullscreen_new_window:!0,fullscreen_settings:{theme_advanced_path_location:"top"}}).directive("uiTinymce",["uiTinymceConfig",function(uiTinymceConfig){uiTinymceConfig=uiTinymceConfig||{};var generatedIds=0;return{require:"ngModel",link:function(scope,elm,attrs,ngModel){var expression,options,tinyInstance;attrs.id||attrs.$set("id","uiTinymce"+generatedIds++),options={setup:function(ed){ed.on("init",function(){ngModel.$render()}),ed.on("ExecCommand",function(){ed.save(),ngModel.$setViewValue(elm.val()),scope.$$phase||scope.$apply()}),ed.on("KeyUp",function(){console.log(ed.isDirty()),ed.save(),ngModel.$setViewValue(elm.val()),scope.$$phase||scope.$apply()})},mode:"exact",elements:attrs.id},expression=attrs.uiTinymce?scope.$eval(attrs.uiTinymce):{},angular.extend(options,uiTinymceConfig,expression),setTimeout(function(){tinymce.init(options)}),ngModel.$render=function(){tinyInstance||(tinyInstance=tinymce.get(attrs.id)),tinyInstance&&tinyInstance.setContent(ngModel.$viewValue||"")}}}}]),angular.module("core").controller("HeaderController",["$scope","Authentication","Menus",function($scope,Authentication,Menus){$scope.authentication=Authentication,$scope.isCollapsed=!1,$scope.menu=Menus.getMenu("topbar"),$scope.toggleCollapsibleMenu=function(){$scope.isCollapsed=!$scope.isCollapsed},$scope.$on("$stateChangeSuccess",function(){$scope.isCollapsed=!1}),$(document).on("scroll",function(){console.log("11111"),$(document).scrollTop()>150?TweenMax.to($("header"),1,{y:-51}):TweenMax.set($("header"),{y:0})})}]),angular.module("core").controller("HomeController",["$scope","Authentication",function($scope,Authentication){$scope.authentication=Authentication,$scope.firstJumbo="first-jumbo-content",$scope.secondJumbo="second-jumbo-content",$scope.thirdJumbo="third-jumbo-content";var texts=angular.element(document.querySelector(".core-text-anni")),tl=new TimelineMax({repeat:6,repeatDelay:1,yoyo:!0});tl.staggerTo(texts,.2,{className:"+=superShadow",top:"-=10px",ease:Power1.easeIn},"0.3","start")}]),angular.module("core").controller("LinklistController",["$scope",function($scope){$scope.modules=[{name:"Animation",links:[{linkName:"svg1",linkHref:"/#!/svg1"},{linkName:"ryuhm12",linkHref:"/#!/ryuhm12"},{linkName:"j1",linkHref:"/#!/j1"},{linkName:"three",linkHref:"/#!/three"}]},{name:"Banners",links:[{linkName:"List",linkHref:"/#!/banners"},{linkName:"Create",linkHref:"/#!/banners/create"},{linkName:"Banner",linkHref:"/#!/banners/:bannerId"},{linkName:"Edit",linkHref:"/#!/banners/:bannerId/edit"}]},{name:"Core",links:[{linkName:"Dev",linkHref:"/#!/dev"}]},{name:"SDSUMAP",links:[{linkName:"SDSU Map",linkHref:"/#!/sdsumap-main"}]},{name:"Spec-view",links:[{linkName:"Jarvis",linkHref:"/#!/jarvis"},{linkName:"Spec Home",linkHref:"/#!/spec-home"}]},{name:"Tj-main",links:[{linkName:"tj-main",linkHref:"/#!/tj-main"}]},{name:"User-interface",links:[{linkName:"MCMU",linkHref:"/#!/mcmu"},{linkName:"Front -1 ",linkHref:"/#!/front-1"},{linkName:"Experimental Interface",linkHref:"/#!/experimental-interface"},{linkName:"Product List",linkHref:"/#!/"},{linkName:"detail-product",linkHref:"/#!/detail-product/:productId"}]},{name:"Utility",links:[{linkName:"test-page-generator",linkHref:"/#!/test-page-generator"}]}]}]),angular.module("core").controller("PlanController",["$scope","$element","Authentication","Getplans",function($scope,$element,Authentication,Getplans){$scope.find=function(){$scope.plans=Getplans.query()},$scope.find()}]),angular.module("core").factory("Getplans",["$resource",function($resource){return $resource("/articles",{userID:"@_id"},{update:{method:"GET"}})}]),angular.module("core").service("Menus",[function(){this.defaultRoles=["*"],this.menus={};var shouldRender=function(user){if(!user)return this.isPublic;if(~this.roles.indexOf("*"))return!0;for(var userRoleIndex in user.roles)for(var roleIndex in this.roles)if(this.roles[roleIndex]===user.roles[userRoleIndex])return!0;return!1};this.validateMenuExistance=function(menuId){if(menuId&&menuId.length){if(this.menus[menuId])return!0;throw new Error("Menu does not exists")}throw new Error("MenuId was not provided")},this.getMenu=function(menuId){return this.validateMenuExistance(menuId),this.menus[menuId]},this.addMenu=function(menuId,isPublic,roles){return this.menus[menuId]={isPublic:isPublic||!1,roles:roles||this.defaultRoles,items:[],shouldRender:shouldRender},this.menus[menuId]},this.removeMenu=function(menuId){this.validateMenuExistance(menuId),delete this.menus[menuId]},this.addMenuItem=function(menuId,menuItemTitle,menuItemURL,menuItemType,menuItemUIRoute,isPublic,roles,position){return this.validateMenuExistance(menuId),this.menus[menuId].items.push({title:menuItemTitle,link:menuItemURL,menuItemType:menuItemType||"item",menuItemClass:menuItemType,uiRoute:menuItemUIRoute||"/"+menuItemURL,isPublic:null===isPublic||"undefined"==typeof isPublic?this.menus[menuId].isPublic:isPublic,roles:null===roles||"undefined"==typeof roles?this.menus[menuId].roles:roles,position:position||0,items:[],shouldRender:shouldRender}),this.menus[menuId]},this.addSubMenuItem=function(menuId,rootMenuItemURL,menuItemTitle,menuItemURL,menuItemUIRoute,isPublic,roles,position){this.validateMenuExistance(menuId);for(var itemIndex in this.menus[menuId].items)this.menus[menuId].items[itemIndex].link===rootMenuItemURL&&this.menus[menuId].items[itemIndex].items.push({title:menuItemTitle,link:menuItemURL,uiRoute:menuItemUIRoute||"/"+menuItemURL,isPublic:null===isPublic||"undefined"==typeof isPublic?this.menus[menuId].items[itemIndex].isPublic:isPublic,roles:null===roles||"undefined"==typeof roles?this.menus[menuId].items[itemIndex].roles:roles,position:position||0,shouldRender:shouldRender});return this.menus[menuId]},this.removeMenuItem=function(menuId,menuItemURL){this.validateMenuExistance(menuId);for(var itemIndex in this.menus[menuId].items)this.menus[menuId].items[itemIndex].link===menuItemURL&&this.menus[menuId].items.splice(itemIndex,1);return this.menus[menuId]},this.removeSubMenuItem=function(menuId,submenuItemURL){this.validateMenuExistance(menuId);for(var itemIndex in this.menus[menuId].items)for(var subitemIndex in this.menus[menuId].items[itemIndex].items)this.menus[menuId].items[itemIndex].items[subitemIndex].link===submenuItemURL&&this.menus[menuId].items[itemIndex].items.splice(subitemIndex,1);return this.menus[menuId]},this.addMenu("topbar")}]),angular.module("d2l-ads").config(["$stateProvider",function($stateProvider){$stateProvider.state("ads2",{url:"/ads2",templateUrl:"modules/d2l-ads/views/ads2.client.view.html"}).state("ads1",{url:"/ads1",templateUrl:"modules/d2l-ads/views/ads1.client.view.html"})}]),angular.module("d2l-ads").controller("Ads1Controller",["$scope",function($scope){$scope.date={month:moment().format("MMM").toUpperCase(),date:moment().date(),year:moment().year()},$scope.animationC1=function(){var c=$(".ad1-calendarHolder");TweenMax.to(c,.6,{x:0,y:0,scale:.4,transformOrigin:"50% 50%"})},$scope.animationC2=function(){var c=$(".ad1-calendarHolder");TweenMax.to(c,.6,{x:0,y:0,scale:1,transformOrigin:"50% 50%"})},$scope.init=function(){},$scope.menus=[{title:"Animation1",desc:""},{title:"Animation2",desc:""},{title:"Animation3",desc:""}];var iconData=[{name:"icon-home",color:"#777"},{name:"icon-user-plus",color:"rgb(89, 226, 168)"},{name:"icon-google-plus2",color:"#A00"},{name:"icon-youtube4",color:"#00A"},{name:"icon-settings",color:"#A00",theme:"md-warn md-hue-5"}];$scope.sizes=[{size:12,padding:0},{size:21,padding:2},{size:36,padding:6},{size:48,padding:10}],$scope.fonts=[].concat(iconData),$scope.it=$scope.sizes[3];var gdoc=$(".s48");$scope.animate=function(){TweenMax.to(gdoc,2,{scaleY:2})},$scope.animate2=function(){TweenMax.to(gdoc,2,{scale:2})},$scope.animate3=function(){TweenMax.to(gdoc,2,{scaleX:1,scaleY:1})}}]),angular.module("d2l-ads").controller("Ads2Controller",["$scope",function(){}]),angular.module("d2l-ads").directive("calDate",[function(){return{template:'<div class="ad1-calendarHolder" ><div class="ad1-calendar"><div class="ad1-month">{{date.month}}</div><div class="ad1-day">{{date.date}}</div><div class="ad1-year">{{date.year}}</div></div><div class="ad1-timer"  ng-mouseover="ad1TimerHover()"><div class="ad1-sec">1</div></div></div>',restrict:"E",link:{pre:function(){},post:function(){$(".ad1-calendarHolder").hover(function(){TweenLite.to($(this).find(".ad1-timer"),1.2,{rotationY:360,ease:Back.easeOut})},function(){TweenLite.to($(this).find(".ad1-timer"),1.2,{rotationY:0,ease:Back.easeOut})})}}}}]),angular.module("d2l-ads").directive("lineTrasit",["$timeout",function($timeout){return{template:'<div class="svg-container" id="lineTransit"></div>',restrict:"E",link:{pre:function(){function tick(){data.push(random()),path.attr("d",line).attr("transform",null).transition().duration(500).ease("linear").attr("transform","translate("+x(-1)+",0)").each("end",tick),data.shift()}var n=40,random=d3.random.normal(0,.2),data=d3.range(n).map(random),margin={top:20,right:20,bottom:20,left:40},width=400-margin.left-margin.right,height=300-margin.top-margin.bottom,x=d3.scale.linear().domain([0,n-1]).range([0,width]),y=d3.scale.linear().domain([-1,1]).range([height,0]),line=d3.svg.line().x(function(d,i){return x(i)}).y(function(d){return y(d)}),svg=d3.select("#lineTransit").append("svg").attr("id","svg-line-transit").attr("viewBox","0 0 400 300").attr("perserveAspectRatio","xMinYMid").attr("width",width).attr("height",height).append("g").attr("transform","translate("+margin.left+","+margin.top+")");svg.append("defs").append("clipPath").attr("id","clip").append("rect").attr("width",width).attr("height",height),svg.append("g").attr("class","x axis").attr("transform","translate(0,"+y(0)+")").call(d3.svg.axis().scale(x).orient("bottom")),svg.append("g").attr("class","y axis").call(d3.svg.axis().scale(y).orient("left"));var path=svg.append("g").attr("clip-path","url(#clip)").append("path").datum(data).attr("class","line").attr("d",line);tick()},post:function(){{var c=$("#svg-line-transit"),aspect=c.width()/c.height();c.parent().parent().parent()}$(window).on("resize",$timeout(function(){$timeout();var container=c.parent().parent().parent(),targetWidth=container.width();0!==$("figure").width()&&(c.attr("width",targetWidth),c.attr("height",Math.round(targetWidth/aspect)))},.5)).trigger("resize")}}}}]),angular.module("d2l-classes").run(["Menus",function(Menus){Menus.addMenuItem("topbar","D2l classes","d2l-classes","dropdown","/d2l-classes(/create)?"),Menus.addSubMenuItem("topbar","d2l-classes","List D2l classes","d2l-classes"),Menus.addSubMenuItem("topbar","d2l-classes","New D2l class","d2l-classes/create")}]),angular.module("d2l-classes").config(["$stateProvider",function($stateProvider){$stateProvider.state("listD2lClasses",{url:"/d2l-classes",templateUrl:"modules/d2l-classes/views/list-d2l-classes.client.view.html"}).state("createD2lClass",{url:"/d2l-classes/create",templateUrl:"modules/d2l-classes/views/create-d2l-class.client.view.html"}).state("viewD2lClass",{url:"/d2l-classes/:d2lClassId",templateUrl:"modules/d2l-classes/views/view-d2l-class.client.view.html"}).state("editD2lClass",{url:"/d2l-classes/:d2lClassId/edit",templateUrl:"modules/d2l-classes/views/edit-d2l-class.client.view.html"})}]),angular.module("d2l-classes").controller("D2lClassesController",["$scope","$stateParams","$location","$mdDialog","Authentication","D2lClasses",function($scope,$stateParams,$location,$mdDialog,Authentication,D2lClasses){$scope.authentication=Authentication,$scope.create=function(){var d2lClass=new D2lClasses({name:this.name,prefix:this.prefix});d2lClass.$save(function(){console.log("ddd"),$mdDialog.hide(),$scope.name="",$scope.prefix=""},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.remove=function(d2lClass){if(d2lClass){d2lClass.$remove();for(var i in $scope.d2lClasses)$scope.d2lClasses[i]===d2lClass&&$scope.d2lClasses.splice(i,1)}else $scope.d2lClass.$remove(function(){$location.path("d2l-classes")})},$scope.update=function(){var d2lClass=$scope.d2lClass;d2lClass.$update(function(){$location.path("d2l-classes/"+d2lClass._id)},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.find=function(){$scope.d2lClasses=D2lClasses.query()},$scope.findOne=function(){$scope.d2lClass=D2lClasses.get({d2lClassId:$stateParams.d2lClassId})}}]),angular.module("d2l-classes").factory("D2lClasses",["$resource",function($resource){return $resource("d2l-classes/:d2lClassId",{d2lClassId:"@_id"},{update:{method:"PUT"}})}]).factory("D2lClassesOwnership",["$resource",function($resource){return $resource("d2l-classes/i",{d2lClassId:"@_id"},{update:{method:"PUT"}})}]),angular.module("d2l-grades").run(["Menus",function(Menus){Menus.addMenuItem("topbar","D2l grades","d2l-grades","dropdown","/d2l-grades(/create)?"),Menus.addSubMenuItem("topbar","d2l-grades","List D2l grades","d2l-grades"),Menus.addSubMenuItem("topbar","d2l-grades","New D2l grade","d2l-grades/create")}]),angular.module("d2l-grades").config(["$stateProvider",function($stateProvider){$stateProvider.state("listD2lGrades",{url:"/d2l-grades",templateUrl:"modules/d2l-grades/views/list-d2l-grades.client.view.html"}).state("createD2lGrade",{url:"/d2l-grades/create",templateUrl:"modules/d2l-grades/views/create-d2l-grade.client.view.html"}).state("viewD2lGrade",{url:"/d2l-grades/:d2lGradeId",templateUrl:"modules/d2l-grades/views/view-d2l-grade.client.view.html"}).state("editD2lGrade",{url:"/d2l-grades/:d2lGradeId/edit",templateUrl:"modules/d2l-grades/views/edit-d2l-grade.client.view.html"})}]),angular.module("d2l-grades").controller("D2lGradesController",["$scope","$stateParams","$location","Authentication","D2lGrades",function($scope,$stateParams,$location,Authentication,D2lGrades){$scope.authentication=Authentication,$scope.create=function(){var d2lGrade=new D2lGrades({name:this.name});d2lGrade.$save(function(response){$location.path("d2l-grades/"+response._id),$scope.name=""},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.remove=function(d2lGrade){if(d2lGrade){d2lGrade.$remove();for(var i in $scope.d2lGrades)$scope.d2lGrades[i]===d2lGrade&&$scope.d2lGrades.splice(i,1)}else $scope.d2lGrade.$remove(function(){$location.path("d2l-grades")})},$scope.update=function(){var d2lGrade=$scope.d2lGrade;d2lGrade.$update(function(){$location.path("d2l-grades/"+d2lGrade._id)},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.find=function(){$scope.d2lGrades=D2lGrades.query()},$scope.findOne=function(){$scope.d2lGrade=D2lGrades.get({d2lGradeId:$stateParams.d2lGradeId})}}]),angular.module("d2l-grades").factory("D2lGrades",["$resource",function($resource){return $resource("d2l-grades/:d2lGradeId",{d2lGradeId:"@_id"},{update:{method:"PUT"}})}]),angular.module("d2l-hws-submits").run(["Menus",function(Menus){Menus.addMenuItem("topbar","D2l hws submits","d2l-hws-submits","dropdown","/d2l-hws-submits(/create)?"),Menus.addSubMenuItem("topbar","d2l-hws-submits","List D2l hws submits","d2l-hws-submits"),Menus.addSubMenuItem("topbar","d2l-hws-submits","New D2l hws submit","d2l-hws-submits/create")}]),angular.module("d2l-hws-submits").config(["$stateProvider",function($stateProvider){$stateProvider.state("listD2lHwsSubmits",{url:"/d2l-hws-submits",templateUrl:"modules/d2l-hws-submits/views/list-d2l-hws-submits.client.view.html"}).state("createD2lHwsSubmit",{url:"/d2l-hws-submits/create",templateUrl:"modules/d2l-hws-submits/views/create-d2l-hws-submit.client.view.html"}).state("viewD2lHwsSubmit",{url:"/d2l-hws-submits/:d2lHwsSubmitId",templateUrl:"modules/d2l-hws-submits/views/view-d2l-hws-submit.client.view.html"}).state("editD2lHwsSubmit",{url:"/d2l-hws-submits/:d2lHwsSubmitId/edit",templateUrl:"modules/d2l-hws-submits/views/edit-d2l-hws-submit.client.view.html"})}]),angular.module("d2l-hws-submits").controller("D2lHwsSubmitsController",["$scope","$stateParams","$location","Authentication","D2lHwsSubmits",function($scope,$stateParams,$location,Authentication,D2lHwsSubmits){$scope.authentication=Authentication,$scope.create=function(){var d2lHwsSubmit=new D2lHwsSubmits({name:this.name});d2lHwsSubmit.$save(function(response){$location.path("d2l-hws-submits/"+response._id),$scope.name=""},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.remove=function(d2lHwsSubmit){if(d2lHwsSubmit){d2lHwsSubmit.$remove();for(var i in $scope.d2lHwsSubmits)$scope.d2lHwsSubmits[i]===d2lHwsSubmit&&$scope.d2lHwsSubmits.splice(i,1)}else $scope.d2lHwsSubmit.$remove(function(){$location.path("d2l-hws-submits")})},$scope.update=function(){var d2lHwsSubmit=$scope.d2lHwsSubmit;d2lHwsSubmit.$update(function(){$location.path("d2l-hws-submits/"+d2lHwsSubmit._id)},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.find=function(){$scope.d2lHwsSubmits=D2lHwsSubmits.query()},$scope.findOne=function(){$scope.d2lHwsSubmit=D2lHwsSubmits.get({d2lHwsSubmitId:$stateParams.d2lHwsSubmitId})}}]),angular.module("d2l-hws-submits").factory("D2lHwsSubmits",["$resource",function($resource){return $resource("d2l-hws-submits/:d2lHwsSubmitId",{d2lHwsSubmitId:"@_id"},{update:{method:"PUT"}})}]),angular.module("d2l-hws").config(["$stateProvider",function($stateProvider){$stateProvider.state("listD2lHws",{url:"/d2l-hws",templateUrl:"modules/d2l-hws/views/list-d2l-hws.client.view.html"}).state("createD2lHw",{url:"/d2l-hws/create",templateUrl:"modules/d2l-hws/views/create-d2l-hw.client.view.html"}).state("viewD2lHw",{url:"/d2l-hws/:d2lHwId",templateUrl:"modules/d2l-hws/views/view-d2l-hw.client.view.html"}).state("editD2lHw",{url:"/d2l-hws/:d2lHwId/edit",templateUrl:"modules/d2l-hws/views/edit-d2l-hw.client.view.html"})}]),angular.module("d2l-hws").controller("D2lHwsController",["$scope","$stateParams","$location","Authentication","D2lHws",function($scope,$stateParams,$location,Authentication,D2lHws){$scope.authentication=Authentication,$scope.remove=function(d2lHw){if(d2lHw){d2lHw.$remove();for(var i in $scope.d2lHws)$scope.d2lHws[i]===d2lHw&&$scope.d2lHws.splice(i,1)}else $scope.d2lHw.$remove(function(){$location.path("d2l-hws")})},$scope.update=function(){var d2lHw=$scope.d2lHw;d2lHw["class"]=d2lHw["class"]._id,d2lHw.dDate=new Date(d2lHw.dDate),d2lHw.$update(function(){$location.path("d2l-hws/"+d2lHw._id)},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.find=function(){$scope.d2lHws=D2lHws.query()},$scope.findOne=function(){$scope.d2lHw=D2lHws.get({d2lHwId:$stateParams.d2lHwId},function(result){result.dDate=new Date(result.dDate)})}}]),angular.module("d2l-hws").factory("D2lHws",["$resource",function($resource){return $resource("d2l-hws/:d2lHwId",{d2lHwId:"@_id"},{update:{method:"PUT"}})}]),angular.module("d2l").config(["$stateProvider","$mdIconProvider",function($stateProvider,$mdIconProvider){$stateProvider.state("lms-start",{url:"/lms-start",templateUrl:"modules/d2l/views/lms-start.client.view.html"}).state("d2l-main",{url:"/d2l-main",templateUrl:"modules/d2l/views/d2l-main.client.view.html"}).state("d2l-stu",{url:"/d2l-stu",templateUrl:"modules/d2l/views/d2l-stu.client.view.html"}).state("d2l-ins",{"abstract":!0,url:"/d2l-ins",templateUrl:"modules/d2l/views/d2l-ins.client.view.html"}).state("d2l-ins.menu",{url:"/menu",templateUrl:"modules/d2l/template/ins-menu.html"}).state("d2l-ins.class",{url:"/class",templateUrl:"modules/d2l/template/ins-class.html"}).state("d2l-ad",{url:"/d2l-ad",templateUrl:"modules/d2l/views/d2l-ad.client.view.html"}).state("d2l-home",{url:"/d2l-home",templateUrl:"modules/d2l/views/d2l-home.client.view.html"}).state("d2l-hw",{url:"/d2l/hw",templateUrl:"modules/d2l/views/d2l-hw.client.view.html"}),$mdIconProvider.iconSet("avatar","/modules/d2l/svg/avatar-icons.svg",128)}]),angular.module("d2l").controller("D2lAdController",["$scope",function(){}]),angular.module("d2l").controller("D2lHomeController",D2lHomeController).controller("gridListDemoCtrl",gridListDemoCtrl).controller("DemoCtrl",DemoCtrl),D2lHomeController.$inject=["$scope","$window","$http","Authentication","D2LOauth","D2lHwsSubmits","D2lClasses","D2lHws"],gridListDemoCtrl.$inject=["$scope","$state"],DemoCtrl.$inject=["$timeout","$q"],angular.module("d2l").controller("D2lHwController",["$scope","$stateParams","$location","$timeout","Authentication","D2lHws","D2lClassesOwnership","D2lClasses","GDriveSelectResult",function($scope,$stateParams,$location,$timeout,Authentication,D2lHws,D2lClassesOwnership,D2lClasses,GDriveSelectResult){$scope.$on("handleEmit",function(event,args){console.log("broadcast is invoked"),$scope.project.gdocId=args.message,$scope.$digest()}),$scope.docs=GDriveSelectResult,$scope.project={gdocId:$scope.docs.id},$scope.project={dDate:new Date("4/1/2015"),gdocId:GDriveSelectResult.id},$scope.loadClasses=function(){return $timeout(function(){$scope.classes=D2lClassesOwnership.query()},650)},$scope.authentication=Authentication,console.log($scope.authentication),$scope.createNewRecord=function(){console.log("Create");var d2lHw=new D2lHws($scope.project);d2lHw["class"]=d2lHw["class"]._id,d2lHw.$save(function(response){$location.path("d2l-hws/"+response._id),$scope.name=""},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.remove=function(d2lHw){if(d2lHw){d2lHw.$remove();for(var i in $scope.d2lHws)$scope.d2lHws[i]===d2lHw&&$scope.d2lHws.splice(i,1)}else $scope.d2lHw.$remove(function(){$location.path("d2l-hws")})},$scope.update=function(){alert("dd");var d2lHw=$scope.d2lHw;d2lHw["class"]=d2lHw["class"]._id,d2lHw.$update(function(){$location.path("d2l-hws/"+d2lHw._id)},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.find=function(){$scope.d2lHws=D2lHws.query()},$scope.findOne=function(){$scope.d2lHw=D2lHws.get({d2lHwId:$stateParams.d2lHwId})}}]),angular.module("d2l").controller("D2lInsController",["$scope",function($scope){$scope.menus=[{title:"Classes",desc:""},{title:"Events",desc:""},{title:"Profile",desc:"linkedin, Google+, facebook, link"},{title:"ToDo",desc:""},{title:"Previous Classes",desc:""}]}]),angular.module("d2l").controller("D2lStuController",["$scope",function($scope){$scope.menus=[{title:"Previous Classes",desc:""},{title:"Classes",desc:""},{title:"Events",desc:""},{title:"Portfolio",desc:"linkedin, Google+, facebook, link"},{title:"ToDo",desc:""}]}]),angular.module("d2l").factory("GDriveSelectResult",GDriveSelectResult).controller("GDriveFilePickerController",GDriveFilePicker),GDriveFilePicker.$inject=["$scope","Googledrive","configGdrive","GDriveSelectResult"],angular.module("d2l").controller("InsClassController",["$scope","$http","CreateFile",function($scope,$http,CreateFile){var objFile=CreateFile.create();console.log(objFile.getInfo()),TweenMax.set($("#fileCreator"),{alpha:0,yPercent:-150}),$scope.assignments=[],$scope.createHWbtn=function(){$scope.isOpen=!$scope.isOpen,$scope.isOpen?(console.log("open"),TweenMax.to($("#fileCreator"),1,{alpha:1,yPercent:0,display:"block",ease:Power2.easeOut,paused:!1})):(console.log("close"),TweenMax.to($("#fileCreator"),1,{alpha:0,yPercent:-150,display:"none",ease:Power2.easeOut,paused:!1})),$scope.assignment=""},$scope.createFolder=function(){},$scope.publishFile=function(){},$scope.listGPlus=function(){$http.get("/gs").success(function(data,status,headers,config){$scope.userInfo=data,console.log("data",data),console.log("status",status),console.log("headers",headers),console.log("config",config)})}}]),angular.module("d2l").controller("LmsStartController",["$scope",function(){}]),angular.module("d2l").directive("d2lHwGenerator",HwGenerator).directive("d2lHwPublisher",HwPublisher).factory("D2lHwPermission",["$resource",function($resource){return $resource("/HWD2l/getPermission/:id",{id:"@_id"},{getDoc:{method:"GET"}})}]).factory("D2lHwCopy",["$resource",function($resource){return $resource("/HWD2l/copyFile/:id/:userNameDoc",{id:"@_id",userNameDoc:"@_userNameDoc"},{copyDoc:{method:"GET"}})}]).controller("ToastCtrl",["$scope","$mdToast",function($scope,$mdToast){$scope.closeToast=function(){$mdToast.hide()}}]),HwGenerator.$inject=["$mdToast","$location","devConfig","D2lHws"],HwPublisher.$inject=["$timeout","$http","D2lHwPermission","D2lHwCopy","D2lHws"],angular.module("d2l").factory("CreateFile",CreateFile),CreateFile.$inject=["$resource"],angular.module("d2l").factory("D2LOauth",["configGdrive",function(configGdrive){function getAccessToken(){return!0}function authenticateWithGoogle(){window.gapi.auth.authorize({client_id:configGdrive.clientId,scope:configGdrive.scopes,immediate:!1},handleAuthentication)}function handleAuthentication(result){console.log(testStr),result&&!result.error?(isAuth=!0,authName="Deauthorize",accessToken="ya29.FgGTDUyLSY6oSvDzClGVcrwws2xf2PJ6JHC5uXkRoutVf6k8BLamn4t9dsvKBG0sHtZR34tYjP6CHg",console.log(accessToken)):(console.log(result),console.log("ERROR: "+result.error),console.log("fail to authentication"))}function createNewAccountFolder(){var callback=function(resp){console.log(resp.result.items.length),0==resp.result.items.length?$http.get("users/me").success(function(response){console.log(response);var folderName="D2l-"+response._id;Googledrive.createFolder(folderName,accessToken)}):console.log("there is already exist")};Googledrive.findFolder(callback)}var accessToken,testStr="asdfasdfsdfsf",authName="Authorize",isAuth=!1;return{getAccessToken:getAccessToken,authenticateWithGoogle:authenticateWithGoogle,createNewAccountFolder:createNewAccountFolder}}]),function(angular,window){var disqusModule=angular.module("disqus",[]);disqusModule.provider("$disqus",function(){function getScriptContainer(){return document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]}function getShortname(){return shortname||window.disqus_shortname}function getScriptSrc(shortname,file){return"//"+shortname+".disqus.com/"+file}function buildScriptTag(src){var script=document.createElement("script");return script.type="text/javascript",script.async=!0,script.src=src,script}function hasScriptTagInPlace(container,scriptSrc){var script,i,scripts=container.getElementsByTagName("script");for(i=0;i<scripts.length;i+=1)if(script=scripts[i],~script.src.indexOf(scriptSrc))return!0;return!1}function setGlobals(id,url,shortname){window.disqus_identifier=id,window.disqus_url=url,window.disqus_shortname=shortname}function getCount(){var widgets=window.DISQUSWIDGETS;widgets&&angular.isFunction(widgets.getCount)&&widgets.getCount()}function resetCommit($location,id){window.DISQUS.reset({reload:!0,config:function(){this.page.identifier=id,this.page.url=$location.absUrl()}})}function addScriptTag(shortname,type){var container=getScriptContainer(),scriptSrc=getScriptSrc(shortname,type);hasScriptTagInPlace(container,scriptSrc)||container.appendChild(buildScriptTag(scriptSrc))}var shortname,TYPE_EMBED="embed.js",TYPE_COUNT="count.js";this.setShortname=function(sname){shortname=sname},this.$get=["$location",function($location){function commit(id){var shortname=getShortname();if(!angular.isDefined(shortname))throw new Error("No disqus shortname defined");if(!angular.isDefined(id))throw new Error("No disqus thread id defined");angular.isDefined(window.DISQUS)?resetCommit($location,id):(setGlobals(id,$location.absUrl(),shortname),addScriptTag(shortname,TYPE_EMBED))}function loadCount(id){setGlobals(id,$location.absUrl(),shortname),addScriptTag(getShortname(),TYPE_EMBED),addScriptTag(getShortname(),TYPE_COUNT),getCount()}return{commit:commit,getShortname:getShortname,loadCount:loadCount}}]}),disqusModule.directive("disqus",["$disqus",function($disqus){return{restrict:"AC",replace:!0,scope:{id:"=disqus"},template:'<div id="disqus_thread"></div>',link:function(scope){scope.$watch("id",function(id){angular.isDefined(id)&&$disqus.commit(id)})}}}]),disqusModule.directive("disqusIdentifier",["$disqus",function($disqus){return{restrict:"A",link:function(scope,elem,attr){$disqus.loadCount(attr.disqusIdentifier)}}}])}(angular,this);var CONFIG={clientId:"574563539488-pctm7fr21vcetcfpdf9hhaje9q5vepee.apps.googleusercontent.com",developerKey:"AIzaSyBEGA9BOSoo0DF69RNRh9MsMKDxaVlnT_U",scopes:["https://www.googleapis.com/auth/drive","https://www.googleapis.com/auth/drive.appdata","https://www.googleapis.com/auth/plus.me","https://www.googleapis.com/auth/paymentssandbox.make_payments"]};angular.module("g-drive").value("configGdrive",CONFIG),angular.module("g-drive").config(["$stateProvider",function(){}]),GDocs.prototype.auth=function(interactive,opt_callback){try{chrome.identity.getAuthToken({interactive:interactive},function(token){token&&(this.accessToken=token,opt_callback&&opt_callback())}.bind(this))}catch(e){console.log(e)}},GDocs.prototype.removeCachedAuthToken=function(opt_callback){if(this.accessToken){var accessToken=this.accessToken;this.accessToken=null,chrome.identity.removeCachedAuthToken({token:accessToken},function(){opt_callback&&opt_callback()})}else opt_callback&&opt_callback()},GDocs.prototype.revokeAuthToken=function(opt_callback){if(this.accessToken){var xhr=new XMLHttpRequest;xhr.open("GET","https://accounts.google.com/o/oauth2/revoke?token="+this.accessToken),xhr.send(),this.removeCachedAuthToken(opt_callback)}},GDocs.prototype.makeRequest=function(method,url,callback,opt_data,opt_headers){var data=opt_data||null,headers=opt_headers||{},xhr=new XMLHttpRequest;
xhr.open(method,url,!0),xhr.setRequestHeader("Authorization","Bearer "+this.accessToken);for(var key in headers)xhr.setRequestHeader(key,headers[key]);xhr.onload=function(){this.lastResponse=this.response,callback(this.lastResponse,this)}.bind(this),xhr.onerror=function(){console.log(this,this.status,this.response,this.getAllResponseHeaders())},xhr.send(data)},GDocs.prototype.upload=function(blob,callback,retry){var onComplete=function(response){document.getElementById("main").classList.remove("uploading");var entry=JSON.parse(response).entry;callback.apply(this,[entry])}.bind(this),onError=function(response){if(!retry)throw document.getElementById("main").classList.remove("uploading"),new Error("Error: "+response);this.removeCachedAuthToken(this.auth.bind(this,!0,this.upload.bind(this,blob,callback,!1)))}.bind(this),uploader=new MediaUploader({token:this.accessToken,file:blob,onComplete:onComplete,onError:onError});document.getElementById("main").classList.add("uploading"),uploader.upload()},angular.module("g-drive").factory("Googledrive",["$q","configGdrive",function($q,configGdrive){function createFolder(FolderName,accessToken){var request=gapi.client.request({path:"/drive/v2/files/",method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+accessToken},body:{title:FolderName,mimeType:"application/vnd.google-apps.folder"}});request.execute(function(resp){console.log(resp)})}function findFolder(callback){gapi.client.load("drive","v2").then(function(){var request=gapi.client.drive.files.list({q:"title contains 'Open'",maxResults:10,fields:"items(id,title)"});request.then(function(resp){callback(resp)})})}function createFile(){gapi.client.load("drive","v2").then(function(){var request=gapi.client.drive.files.list({q:"title contains 'URI-'",fields:"items(id,title)"});request.then(function(){})})}function getGoogleDriveInfo(){gapi.client.load("drive","v2").then(function(){var request=gapi.client.drive.about.get();request.execute(function(resp){console.log("Current user name: "+resp.name),console.log("Root folder ID: "+resp.rootFolderId),console.log("Total quota (bytes): "+resp.quotaBytesTotal),console.log("Used quota (bytes): "+resp.quotaBytesUsed)})})}function setupPicker(accessToken,callback){console.log("from gdrive service");var callbackAfterFindFolder=function(resp){var picker=(resp.result.items[0].id,(new google.picker.PickerBuilder).setOAuthToken(accessToken).setDeveloperKey(configGdrive.developerKey).addView(new google.picker.DocsView).enableFeature(google.picker.Feature.MULTISELECT_ENABLED).setLocale("us").setCallback(callback).build());picker.setVisible(!0)};findFolder(callbackAfterFindFolder)}function listFolder(){var deffered=$q.defer();return console.log("listForlder"),gapi.client.load("drive","v2").then(function(){var request=gapi.client.drive.files.list({maxResults:10,fields:"etag,items(thumbnailLink,id,webViewLink,webContentLink,title)"});request.then(function(resp){console.log("result File list"),deffered.resolve(resp.result)})}),deffered.promise}function plusTest(){var deffered=$q.defer();return gapi.client.load("plus","v1").then(function(){var request=gapi.client.plus.activities.list({userId:"me",collection:"public"});request.execute(function(resp){for(var numItems=resp.items.length,i=0;numItems>i;i++)deffered.resolve(resp.items)})}),deffered.promise}return{createFolder:createFolder,findFolder:findFolder,getGoogleDriveInfo:getGoogleDriveInfo,setupPicker:setupPicker,listFolder:listFolder,createFile:createFile,plusTest:plusTest}}]),angular.module("mean-events").run(["Menus",function(){}]),angular.module("mean-events").config(["$stateProvider",function($stateProvider){$stateProvider.state("listMeanEvents",{url:"/mean-events",templateUrl:"modules/mean-events/views/list-mean-events.client.view.html"}).state("createMeanEvent",{url:"/mean-events/create",templateUrl:"modules/mean-events/views/create-mean-event.client.view.html"}).state("viewMeanEvent",{url:"/mean-events/:meanEventId",templateUrl:"modules/mean-events/views/view-mean-event.client.view.html"}).state("editMeanEvent",{url:"/mean-events/:meanEventId/edit",templateUrl:"modules/mean-events/views/edit-mean-event.client.view.html"})}]),angular.module("mean-events").controller("MeanEventsController",["$scope","$stateParams","$location","Authentication","MeanEvents",function($scope,$stateParams,$location,Authentication,MeanEvents){$scope.authentication=Authentication,console.log($scope.authentication),$scope.create=function(){var meanEvent=new MeanEvents({name:this.name});meanEvent.$save(function(response){$location.path("mean-events/"+response._id),$scope.name=""},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.remove=function(meanEvent){if(meanEvent){meanEvent.$remove();for(var i in $scope.meanEvents)$scope.meanEvents[i]===meanEvent&&$scope.meanEvents.splice(i,1)}else $scope.meanEvent.$remove(function(){$location.path("mean-events")})},$scope.update=function(){var meanEvent=$scope.meanEvent;meanEvent.$update(function(){$location.path("mean-events/"+meanEvent._id)},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.find=function(){$scope.meanEvents=MeanEvents.query()},$scope.findOne=function(){$scope.meanEvent=MeanEvents.get({meanEventId:$stateParams.meanEventId})}}]),angular.module("mean-events").factory("MeanEvents",["$resource",function($resource){return $resource("mean-events/:meanEventId",{meanEventId:"@_id"},{update:{method:"PUT"}})}]),angular.module("mean-tutorials").config(["$stateProvider",function($stateProvider){$stateProvider.state("projectview",{"abstract":!0,url:"/projects",templateUrl:"modules/mean-tutorials/views/projectView.client.view.html"}).state("projectview.dashboard",{url:"/dashboard",templateUrl:"modules/mean-tutorials/template/projectView.dashboard.tmp.html"}).state("projectview.projects",{url:"/projectlist",templateUrl:"modules/mean-tutorials/template/projectView.projects.tmp.html"}).state("projectview.articles",{url:"/articleslist",templateUrl:"modules/mean-tutorials/template/projectView.articles.tmp.html"}).state("versioning",{url:"/versioning",templateUrl:"modules/mean-tutorials/views/versioning.client.view.html"}).state("project2",{url:"/project2",templateUrl:"modules/mean-tutorials/views/project2.client.view.html"}).state("project1",{url:"/project1",templateUrl:"modules/mean-tutorials/views/project1.client.view.html"}).state("mean-home",{url:"/",templateUrl:"modules/mean-tutorials/views/mean-home.client.view.html"})}]),angular.module("mean-tutorials").controller("GapiCtrlController",["$scope","$http",function($scope,$http){$scope.googleAccess=function(){$http.get("/gapi").success(function(data){$scope.url=data,$http.get($scope.url).success(function(data){console.log(data)})}).error(function(){$scope.url="Error"})}}]),angular.module("mean-tutorials").controller("HomeDialogtmpController",["$scope","$mdDialog",function($scope,$mdDialog){$scope.hide=function(){$mdDialog.hide()},$scope.cancel=function(){$mdDialog.cancel()},$scope.answer=function(answer){$mdDialog.hide(answer)}}]),angular.module("mean-tutorials").controller("MeanLoginCtrl",MeanLoginCtrl).controller("MeanHomeController",MeanHomeController),MeanLoginCtrl.$inject=["$scope","Authentication","$mdDialog"],MeanHomeController.$inject=["$scope","$state","$http","$mdDialog","$mdSidenav","$log","Authentication"],angular.module("mean-tutorials").controller("Project1Controller",["$scope","$document","$timeout","$log","$mdSidenav",function($scope,$document,$timeout,$log,$mdSidenav){function clicked(d){var x,y,k;if(d&&centered!==d){var centroid=path.centroid(d);x=centroid[0],y=centroid[1],k=4,centered=d}else x=width/2,y=height/2,k=1,centered=null;g.selectAll("path").classed("active",centered&&function(d){return d===centered}),g.transition().duration(750).attr("transform","translate("+width/2+","+height/2+")scale("+k+")translate("+-x+","+-y+")").style("stroke-width",1.5/k+"px")}$scope.snippet="angular.module('mean-tutorials').controller('Project1Controller', ['$scope','$document','$timeout','$log','$mdSidenav',function($scope, $document, $timeout, $log, $mdSidenav) {",$scope.toggleLeft=function(){$mdSidenav("left").toggle().then(function(){$log.debug("toggle left is done")})},$scope.toggleRight=function(){$mdSidenav("right").toggle().then(function(){$log.debug("toggle RIGHT is done")})},$scope.id="meanT-project1";var centered,width=960,height=500,projection=d3.geo.albersUsa().scale(1070).translate([width/2,height/2]),path=d3.geo.path().projection(projection),svg=d3.select("#geo").append("svg").attr("viewBox","0 0 960 500").attr("preserveAspectRatio","xMidMid");svg.append("rect").attr("class","background").attr("width",width).attr("height",height).on("click",clicked);var g=svg.append("g");d3.json("/modules/mean-tutorials/img/us.json",function(error,us){g.append("g").attr("id","states").selectAll("path").data(topojson.feature(us,us.objects.states).features).enter().append("path").attr("d",path).on("click",clicked),g.append("path").datum(topojson.mesh(us,us.objects.states,function(a,b){return a!==b})).attr("id","state-borders").attr("d",path)})}]).controller("LeftCtrl12",["$scope","$timeout","$mdSidenav","$log",function($scope,$timeout,$mdSidenav,$log){$scope.close=function(){$mdSidenav("left").close().then(function(){$log.debug("close LEFT is done")})}}]).controller("RightCtrl11",["$scope","$timeout","$mdSidenav","$log",function($scope,$timeout,$mdSidenav,$log){$scope.close=function(){$mdSidenav("right").close().then(function(){$log.debug("close RIGHT is done")})}}]),angular.module("mean-tutorials").controller("Project2Controller",["$scope",function($scope){$scope.id="meanT-project2",$scope.$on("handleEmit",function(event,args){$scope.$broadcast("handleBroadcast",args)}),$scope.password="",$scope.grade=function(){var size=$scope.password.length;$scope.strength=size>8?"strong":size>3?"medium":"weak"}}]),angular.module("mean-tutorials").controller("ProjectViewController",["$scope","$stateParams","$state","$timeout","Articles",function($scope,$stateParams,$state,$timeout,Articles){$scope.title="Project3",$scope.body="",$scope.menus=[{icon:"",name:"Dashboard",state:"projectview.dashboard"},{icon:"",name:"Project",state:"projectview.projects"},{icon:"",name:"Article",state:"projectview.articles"},{icon:"",name:"Comments",state:"projectview.dashboard"},{icon:"",name:"Survey",state:"projectview.dashboard"}],$scope.goChildView=function(stateName){$state.go(stateName)},$scope.find=function(){$scope.articles=Articles.query()},$scope.findOne=function(){$scope.article=Articles.get({articleId:$stateParams.articleId})},$scope.shrinkleftPane=function(){TweenLite.to(".leftPane",1,{x:"-75px"}),TweenLite.to(".rightPane",1,{x:"-75px"}),TweenLite.to(".svgBtnLeftPane",1,{x:"75px"})}}]),angular.module("mean-tutorials").controller("ProjectviewProjectsController",["$scope","$resource","Articles",function($scope,$resource){var Projects=$resource("/articles/projects/:docType",{docType:"@docType"},{getProjects:{method:"GET",isArray:!0}});$scope.findProjects=function(type){$scope.resultProjects=Projects.getProjects({docType:type})},$scope.selectProject=function(index){TweenLite.set(".rightPane",{"margin-left":"72px",position:"inherit"}),$scope.selectedProject=$scope.resultProjects[index]}}]),angular.module("mean-tutorials").controller("ProjectviewdashboardController",["$scope","$window","$state","$http","$q","$mdDialog","$mdSidenav","configGdrive","Googledrive","GooglePlus","Products","Authentication","ProductByUserId","UtCalendar","$timeout","$mdBottomSheet","MeanEvents",function($scope,$window,$state,$http,$q,$mdDialog,$mdSidenav,configGdrive,Googledrive,GooglePlus,Products,Authentication,ProductByUserId,UtCalendar,$timeout,$mdBottomSheet,MeanEvents){function handleAuthentication(result){result&&!result.error?($scope.isAuth=!0,$scope.authName="Deauthorize",accessToken=result.access_token,createNewAccountFolder(),setFilePicker()):(console.log(result),console.log(result.error),console.log("fail to authentication")),$scope.$digest()}function createNewAccountFolder(){var callback=function(resp){console.log(resp.result.items.length),0==resp.result.items.length?$http.get("users/me").success(function(response){console.log(response);var folderName="D2l-"+response._id;Googledrive.createFolder(folderName,accessToken)}):(console.log("there is already exist"),$scope.rootGdriveFolderID=resp.result.items[0].id,$scope.$digest())};Googledrive.findFolder(callback)}$scope.authentication=Authentication,$scope.foo="tbody",$scope.findEvents=function(){$scope.meanEvents=MeanEvents.query()},$scope.testCreateFolder=function(){Googledrive.createFolder("chulwoo Fuck1",accessToken)},$scope.testGetGoogleDriveInfo=function(){Googledrive.getGoogleDriveInfo()};var accessToken;$scope.permalLink="http://drive.google.com/uc?export=view&id=",$scope.arrive=!1,$scope.authName="Authorize",$scope.isAuth=!1,$scope.init=function(){window.gapi.load("auth",$scope.authenticateWithGoogle),window.gapi.load("picker"),gapi.client.load("urlshortener","v1")},$scope.authenticateWithGoogle=function(){window.gapi.auth.authorize({client_id:configGdrive.clientId,scope:configGdrive.scopes,immediate:!1},handleAuthentication)},$scope.setupPicker=function(){function pickerCallback(data){if(data.action==google.picker.Action.PICKED){$scope.files=data.docs,$scope.arrive=!0;var request=gapi.client.urlshortener.url.get({shortUrl:"http://goo.gl/fbsS"});request.then(function(response){appendResults(response.result.longUrl)},function(reason){console.log("Error: "+reason.result.error.message)}),$scope.$digest()}else data.action==google.picker.Action.CANCEL}Googledrive.setupPicker(accessToken,pickerCallback)},$scope.listFolderInformation=function(){Googledrive.listFolder()},$scope.alert="",$scope.showListBottomSheet=function($event){$scope.alert="",$mdBottomSheet.show({templateUrl:"modules/mean-tutorials/template/bottom-sheet-list-template.html",controller:"BottomSheetListCtrl",targetEvent:$event}).then(function(clickedItem){$scope.alert=clickedItem.name+" clicked!"})},$scope.showGridBottomSheet=function($event){$scope.alert="",$mdBottomSheet.show({templateUrl:"modules/mean-tutorials/template/bottom-sheet-grid-template.html",controller:"BottomSheetGridCtrl",targetEvent:$event}).then(function(clickedItem){$scope.alert=clickedItem.name+" clicked!"})},$scope.today=function(){$scope.dt=new Date},$scope.today(),$scope.clear=function(){$scope.dt=null},$scope.disabled=function(date,mode){return"day"===mode&&(0===date.getDay()||6===date.getDay())},$scope.toggleMin=function(){$scope.minDate=$scope.minDate?null:new Date},$scope.toggleMin(),$scope.open=function($event){$event.preventDefault(),$event.stopPropagation(),$scope.opened=!0},$scope.dateOptions={formatYear:"yy",startingDay:1},$scope.formats=["dd-MMMM-yyyy","yyyy/MM/dd","dd.MM.yyyy","shortDate"],$scope.format=$scope.formats[0]}]).controller("gDriveDashCtrl",["$scope","Googledrive",function($scope,Googledrive){$scope.googleDrive={info:"gDriveCtrl"},$scope.listingFolderInfo=function(){$scope.gDocs="dd",console.log("gDriveDashCtrl"),$scope.gDocs=Googledrive.listFolder();var request=gapi.client.drive.files.get({fileId:"1Q_CJwJftcL-zabVm0USc1px5HDfbpxu6Klav-XYOzNg"});request.execute(function(resp){resp.error?401==resp.error.code?checkAuth():console.log("An error occured: "+resp.error.message):(console.log("Title: "+resp.title),console.log("Description: "+resp.description),console.log("MIME type: "+resp.mimeType),console.log(resp),$scope.gDocs=resp)})}}]).controller("BottomSheetListCtrl",["$scope","$mdBottomSheet",function($scope,$mdBottomSheet){$scope.items=[{name:"Upload New Image (Google Drive)",icon:"share"},{name:"Select Existing Image (Google Drive)",icon:"upload"},{name:"Product History (Google Sheets)",icon:"copy"},{name:"Print this page (PDF Printer)",icon:"print"}],$scope.listItemClick=function($index){var clickedItem=$scope.items[$index];$mdBottomSheet.hide(clickedItem)}}]).controller("BottomSheetGridCtrl",["$scope","$mdBottomSheet",function($scope,$mdBottomSheet){$scope.items=[{name:"Hangout",icon:"hangout"},{name:"Mail",icon:"mail"},{name:"Message",icon:"message"},{name:"Copy",icon:"copy"}],$scope.listItemClick=function($index){var clickedItem=$scope.items[$index];$mdBottomSheet.hide(clickedItem)}}]);var CalendarException=function(message){this.message=message,this.toString=function(){return this.constructor.name+": "+this.message}},Calendar=function(firstWeekDay){this.firstWeekDay=firstWeekDay||0};Calendar.prototype={constructor:Calendar,weekStartDate:function(date){for(var startDate=new Date(date.getTime());startDate.getDay()!==this.firstWeekDay;)startDate.setDate(startDate.getDate()-1);return startDate},monthDates:function(year,month,dayFormatter,weekFormatter){if("number"!=typeof year||1970>year)throw new CalendarException("year must be a number >= 1970");if("number"!=typeof month||0>month||month>11)throw new CalendarException("month must be a number (Jan is 0)");var weeks=[],week=[],i=0,date=this.weekStartDate(new Date(year,month,1));do{for(i=0;7>i;i++)week.push(dayFormatter?dayFormatter(date):date),date=new Date(date.getTime()),date.setDate(date.getDate()+1);weeks.push(weekFormatter?weekFormatter(week):week),week=[]}while(date.getMonth()<=month&&date.getFullYear()===year);return weeks},monthDays:function(year,month){var getDayOrZero=function(date){return date.getMonth()===month?date.getDate():0};return this.monthDates(year,month,getDayOrZero)},monthText:function(year,month){if("undefined"==typeof year){var now=new Date;year=now.getFullYear(),month=now.getMonth()}var getDayOrBlank=function(date){for(var s=date.getMonth()===month?date.getDate().toString():"  ";s.length<2;)s=" "+s;return s},weeks=this.monthDates(year,month,getDayOrBlank,function(week){return week.join(" ")});return weeks.join("\n")}};for(var months="JAN FEB MAR APR MAY JUN JUL AUG SEP OCT NOV DEC".split(" "),i=0;i<months.length;i++)Calendar[months[i]]=i;window.Calendar=Calendar,window.consts={monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],dayNames:["일","월","화","수","목","금","S"]},angular.module("mean-tutorials").directive("macWindow",[function(){return{scope:{projectInfos:"=info"},templateUrl:"modules/mean-tutorials/directives/templates/mac-window.html",restrict:"E",link:function(scope){scope.description="hello",scope.minimizeMacWindow=function(event){console.log("Click minimize");var pageElement=event.target.parentElement.parentElement.getElementsByClassName("page");TweenMax.to(pageElement,1.2,{display:"none",height:"0%"})},scope.maximizeMacWindow=function(event){console.log("Click maximize");var pageElement=event.target.parentElement.parentElement.getElementsByClassName("page");TweenMax.to(pageElement,1.2,{display:"block",height:"100%"})}}}}]),angular.module("mean-tutorials").directive("mjHomeAni",[function(){return{templateUrl:"modules/mean-tutorials/directives/templates/mjHomeAni.tpl.html",restrict:"E",link:function(scope){var title=$(".ani-title"),youtubePlayBtn=$("#youtubePlayButton"),meanTotem=($(".ani-techs"),$("#meanTotem")),meanTotemDesc=$("#meanTotem-desc");scope.clickPlayBtn=function(){TweenMax.fromTo(youtubePlayBtn,1.5,{scale:2},{scale:.8,opacity:0}),TweenMax.to(title,2.5,{x:-1200}),TweenMax.to(".ani-techs",.1,{opacity:1}),TweenMax.to([meanTotem,meanTotemDesc],1.3,{display:"block",height:"100%",opacity:1})},scope.resetPlayBtn=function(){TweenMax.to(youtubePlayBtn,.5,{scale:1,opacity:1}),TweenMax.to(title,.5,{x:0}),TweenMax.to([meanTotem,meanTotemDesc],1.3,{display:"none",height:"0%",opacity:0})},scope.aniTrigger=function(){var tl=new TimelineMax,t1=TweenMax.to($("#meanTotem"),1,{yPercent:-45,force3D:!0}),t2=TweenMax.to($("#meanTotem"),1,{yPercent:0,force3D:!0});tl.add(t1).add(t2)}}}}]),angular.module("mean-tutorials").directive("utCalendar",["UtCalendar",function(UtCalendar){return{template:'<div class="container" style="margin-top:20px"><table id="calendar" class="meanT-calendar"></table></div>',scope:{},restrict:"E",link:function(scope,element){UtCalendar.calendar(),element.bind("click",function(val){if(0===$("#calSvg").length){var position=$(val.target.parentElement.parentElement).position({of:$(window)}),width=$(val.target.parentElement.parentElement).width(),height=$(val.target.parentElement.parentElement).height(),margin={top:-5,right:-5,bottom:-5,left:-5},width=width-margin.left-margin.right,height=height-margin.top-margin.bottom,zoom=d3.behavior.zoom().center([width/2,height/2]).scaleExtent([1,10]).on("zoom",zoomed);scope.svg=d3.select("#calendar").append("svg").attr("id","calSvg").attr("width",width+margin.left+margin.right).attr("height",height+margin.top+margin.bottom).style("position","absolute").style("top",position.top).append("g").attr("transform","translate("+margin.left+","+margin.right+")").call(zoom);var container=scope.svg.append("g");container.append("g").attr("class","axis").selectAll("circle").data(d3.range(10,width,10)).enter().append("circle").attr("cx",width/2).attr("cy",height/2).attr("r",function(d){return d});var zoomed=(scope.svg.append("circle").style("fill","red").attr("cx",width/2).attr("cy",height/2).attr("r",10),function(){container.attr("transform","translate("+d3.event.translate+")scale("+d3.event.scale+")")})}})}}}]),angular.module("mean-tutorials").factory("UtCalendar",[function(){function calendar(){var cal=new Calendar,month=0,year=2015,weeks=cal.monthDays(year,month),table=d3.select("#calendar"),header=table.append("thead"),body=table.append("tbody");header.append("tr").append("td").attr("colspan",7).style("text-align","center").style("font-size","16px").text(consts.monthNames[month]),header.append("tr").selectAll("td").data(consts.dayNames).enter().append("td").style("text-align","center").text(function(d){return d}),weeks.forEach(function(week){body.append("tr").selectAll("td").data(week).enter().append("td").attr("class",function(d){return d>0?"date":"empty"}).text(function(d){return d>0?d:""})})}return{calendar:calendar}}]),angular.module("openboard").config(["$stateProvider",function($stateProvider){$stateProvider.state("openboard",{url:"/openboard",templateUrl:"modules/openboard/views/openboard.client.view.html"})}]),angular.module("openboard").controller("OpenboardController",OpenboardController),OpenboardController.$inject=["$scope","$mdDialog","$window","$http","Authentication","Users","D2lHws","D2lClassesOwnership","UsersRole"],angular.module("size-util").controller("SizeUtil.sizeOfWidthController",["$scope",function($scope){$scope.width=window.innerWidth,$(".bottom-sheet-dashboard").width(window.innerWidth-74),$(window).on("resize.doResize",function(){$scope.width=window.innerWidth,$scope.screen=$scope.width<600?"sm size":$scope.width<960?"md size":"bg size",$(".bottom-sheet-dashboard").width(window.innerWidth-74),$scope.$apply(function(){})}),$scope.$on("$destroy",function(){$(window).off("resize.doResize")})}]),angular.module("size-util").directive("colorBorder",[function(){return{scope:{color:"@colorBorder"},link:function(scope,element){TweenLite.set(element.children(),{borderColor:scope.color,borderStyle:"solid",borderWidth:"1px"})}}}]),angular.module("size-util").directive("coverResize",["$window",function($window){return{restrict:"A",scope:{targetElem:"=bindingFoo"},link:function(scope,element){var w=angular.element($window);w.on("reszie",function(){console.log("resize")}),console.log(element),element.on("resize",function(){console.log("resized.- element On")}),element.bind("resize",function(){console.log("resize"),scope.$apply()}),element.bind("click",function(){console.log("resize"),scope.$apply()})}}}]).directive("ngSize",["$window",function(){return{scope:{size:"=ngSize"},link:function(scope,element){angular.element(element);element.bind("resize",function(){console.log(" Window resized! ")}),$("#calendar").bind("resize",function(){console.log("resized")})}}}]).directive("testSize",yourDirectiveName),yourDirectiveName.$inject=["$window"],angular.module("the-clean-cruds").config(["$stateProvider",function($stateProvider){$stateProvider.state("listTheCleanCruds",{url:"/the-clean-cruds",templateUrl:"modules/the-clean-cruds/views/list-the-clean-cruds.client.view.html"}).state("createTheCleanCrud",{url:"/the-clean-cruds/create",templateUrl:"modules/the-clean-cruds/views/create-the-clean-crud.client.view.html"}).state("viewTheCleanCrud",{url:"/the-clean-cruds/:theCleanCrudId",templateUrl:"modules/the-clean-cruds/views/view-the-clean-crud.client.view.html"}).state("editTheCleanCrud",{url:"/the-clean-cruds/:theCleanCrudId/edit",templateUrl:"modules/the-clean-cruds/views/edit-the-clean-crud.client.view.html"})}]),angular.module("the-clean-cruds").controller("TheCleanCrudsController",["$scope","$stateParams","$location","Authentication","TheCleanCruds",function($scope,$stateParams,$location,Authentication,TheCleanCruds){$scope.authentication=Authentication,$scope.create=function(){var theCleanCrud=new TheCleanCruds({orderDate:this.orderDate,deliberyDate:this.deliberyDate,Address:this.address,numOrder:this.numOrder,detailInfo:this.detailInfo});theCleanCrud.$save(function(response){$location.path("the-clean-cruds/"+response._id),$scope.name=""},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.remove=function(theCleanCrud){if(theCleanCrud){theCleanCrud.$remove();for(var i in $scope.theCleanCruds)$scope.theCleanCruds[i]===theCleanCrud&&$scope.theCleanCruds.splice(i,1)}else $scope.theCleanCrud.$remove(function(){$location.path("the-clean-cruds")})},$scope.update=function(){var theCleanCrud=$scope.theCleanCrud;theCleanCrud.$update(function(){$location.path("the-clean-cruds/"+theCleanCrud._id)},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.find=function(){$scope.theCleanCruds=TheCleanCruds.query()},$scope.findOne=function(){$scope.theCleanCrud=TheCleanCruds.get({theCleanCrudId:$stateParams.theCleanCrudId})}}]),angular.module("the-clean-cruds").factory("TheCleanCruds",["$resource",function($resource){return $resource("the-clean-cruds/:theCleanCrudId",{theCleanCrudId:"@_id"},{update:{method:"PUT"}})}]),angular.module("the-clean").config(["$stateProvider","$mdIconProvider",function($stateProvider,$mdIconProvider){$stateProvider.state("tc-order",{url:"/tc-order",templateUrl:"modules/the-clean/views/tc-order.client.view.html"}).state("the-clean",{url:"/the-clean",templateUrl:"modules/the-clean/views/the-clean.client.view.html"}),$mdIconProvider.icon("basket","modules/the-clean/svg/basket.svg"),$mdIconProvider.icon("drum","modules/the-clean/svg/drum.svg")}]),angular.module("the-clean").controller("TcOrderController",["$scope",function(){}]),angular.module("the-clean").controller("TheCleanController",["$scope","Authentication",function($scope,Authentication){$scope.authentication=Authentication,$scope.toppings=[{category:"meat",name:"Pepperoni"},{category:"meat",name:"Sausage"},{category:"meat",name:"Ground Beef"},{category:"meat",name:"Bacon"},{category:"veg",name:"Mushrooms"},{category:"veg",name:"Onion"},{category:"veg",name:"Green Pepper"},{category:"veg",name:"Green Olives"}],$scope.tcOrder=!0,$scope.tcStartPage=!1,$scope.tcPrice=!1,$scope.tcUserInfo=!0,$scope.tcProgress=!1,$scope.toggle=function(targetDirective){return targetDirective=!targetDirective},$scope.options={chart:{type:"discreteBarChart",height:450,margin:{top:20,right:20,bottom:60,left:55},x:function(d){return d.label},y:function(d){return d.value},showValues:!0,valueFormat:function(d){return d3.format(",.4f")(d)},transitionDuration:500,xAxis:{axisLabel:"Module(s)"},yAxis:{axisLabel:"Complete(%)",axisLabelDistance:30}}},$scope.data=[{key:"Cumulative Return",values:[{label:"User Interface",value:22},{label:"Backend",value:5},{label:"Start Page",value:5},{label:"Icon Design",value:5},{label:"Complete",value:100}]}]}]),angular.module("the-clean").directive("tcOrder",OrderDirective).directive("tcOrderHeader",OrderHeader).directive("tcGetRequires",GetRequires).provider("$tcOrder",SelectProvider),OrderDirective.$inject=["$tcOrder","$interpolate","$compile","$parse","$mdToast"],OrderHeader.$inject=["$mdTheming"],GetRequires.$inject=["$parse"],SelectProvider.$inject=["$$interimElementProvider"],angular.module("tinymce").run(["Menus",function(){}]).value("uiTinymceConfig",{plugins:"image, link, fullscreen, code, table, contextmenu, media",contextmenu:"link media image inserttable | cell row column deletetable",image_advtab:!0,image_class_list:[{title:"Responsive Size",value:"img-responsive"}],fullscreen_new_window:!0,fullscreen_settings:{theme_advanced_path_location:"top"}}),angular.module("tinymce").directive("uiTinymce",["uiTinymceConfig",function(uiTinymceConfig){uiTinymceConfig=uiTinymceConfig||{};var generatedIds=0;return{require:"ngModel",link:function(scope,elm,attrs,ngModel){var expression,options,tinyInstance;attrs.id||attrs.$set("id","uiTinymce"+generatedIds++),options={setup:function(ed){ed.on("init",function(){ngModel.$render()}),ed.on("ExecCommand",function(){ed.save(),ngModel.$setViewValue(elm.val()),scope.$$phase||scope.$apply()}),ed.on("KeyUp",function(){console.log(ed.isDirty()),ed.save(),ngModel.$setViewValue(elm.val()),scope.$$phase||scope.$apply()})},mode:"exact",elements:attrs.id},expression=attrs.uiTinymce?scope.$eval(attrs.uiTinymce):{},angular.extend(options,uiTinymceConfig,expression),setTimeout(function(){tinymce.init(options)}),ngModel.$render=function(){tinyInstance||(tinyInstance=tinymce.get(attrs.id)),tinyInstance&&tinyInstance.setContent(ngModel.$viewValue||"")}}}}]),angular.module("user-interface").config(["$stateProvider","$disqusProvider",function($stateProvider,$disqusProvider){$disqusProvider.setShortname("urimium"),$stateProvider.state("mcmu",{url:"/mcmu",templateUrl:"modules/user-interface/views/mcmu.client.view.html"}).state("front-1",{url:"/front-1",templateUrl:"modules/user-interface/views/front-1.client.view.html"}).state("experimental-interface",{url:"/experimental-interface",templateUrl:"modules/user-interface/views/experimental-interface.client.view.html"}).state("listing-product",{url:"/urimium",templateUrl:"modules/user-interface/views/listing-product.client.view.html"}).state("detail-product",{url:"/detail-product/:productId",templateUrl:"modules/user-interface/views/detail-product.client.view.html"})}]),angular.module("user-interface").controller("DetailProductController",["$scope","$stateParams","$sce","Products","GetPurchaseJWT","Payments","configGdrive",function($scope,$stateParams,$sce,Products,GetPurchaseJWT,Payments,configGdrive){function announceDeselected(tab){$scope.farewell="Goodbye "+tab.title+"!"}function announceSelected(tab){$scope.greeting="Hello "+tab.title+"!"}function buttonReady(params){"SUCCESS"==params.status&&("interactive"===document.readyState||"complete"==document.readyState||"loaded"==document.readyState?document.getElementById("wallet-button-holder").appendChild(params.walletButtonElement):document.addEventListener("DOMContentLoaded",function(){document.getElementById("wallet-button-holder").appendChild(params.walletButtonElement)}))}function handleAuthentication(){console.log(configGdrive.clientId),google.wallet.online.authorize({clientId:configGdrive.clientId,callback:function(result){console.log(result),google.wallet.online.createWalletButton({jwt:"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiIwODI0MzM2MjAwNzE3NDcwMDQ2NiIsImF1ZCI6Ikdvb2dsZSIsInR5cCI6Imdvb2dsZS93YWxsZXQvb25saW5lL21hc2tlZC92Mi9yZXF1ZXN0IiwiaWF0IjoxNDE1ODU5MTYzLCJleHAiOjE2NzI0NjY0MDAwMDAsInJlcXVlc3QiOnsiY2xpZW50SWQiOiI1NzQ1NjM1Mzk0ODgtbjB2cmV2Z2pwMzYwNmwyMGhmazRycWZrMWRjOGozcWIuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJtZXJjaGFudE5hbWUiOiJwYlNob3AiLCJvcmlnaW4iOiJodHRwOi8vbG9jYWxob3N0OjMwMDAvIiwicGhvbmVOdW1iZXJSZXF1aXJlZCI6dHJ1ZSwicGF5Ijp7ImVzdGltYXRlZFRvdGFsUHJpY2UiOiIxNS4wMSIsImN1cnJlbmN5Q29kZSI6IlVTRCJ9LCJzaGlwIjp7fX19.ayFuAfhYnlzBWNlJxbuwHT2o-4k01tZ2x41c9_fzeJk",success:createWalletButtonSuccessCallback,failure:createWalletButtonFailureCallback,ready:buttonReady,height:"44",width:"230"})
}})}var productId=$stateParams.productId;$scope.quantity=1;var tabs=[{title:"반품/배송/교환 문의",content:"No Contents"},{title:"상세 상품설명",content:""},{title:"상품분석평/상품문의",content:"No Contents"}];$scope.findOne=function(){Products.get({productId:productId}).$promise.then(function(value){$scope.product=value,tabs[1].content=$sce.trustAsHtml(value.detailDesc)})},$scope.tabs=tabs,$scope.selectedIndex=1,$scope.announceSelected=announceSelected,$scope.announceDeselected=announceDeselected,$scope.addTab=function(title,view){view=view||title+" Content View",tabs.push({title:title,content:view,disabled:!1,style:style})},$scope.removeTab=function(tab){for(var j=0;j<tabs.length;j++)if(tab.title==tabs[j].title){$scope.tabs.splice(j,1);break}},$scope.from_one={from_one:"bold data in controller in from_one.js"};$scope.authenticateWithGoogle=function(){window.gapi.auth.authorize({client_id:configGdrive.clientId,scope:configGdrive.scopes,immediate:!1},handleAuthentication)};var createWalletButtonSuccessCallback=function(param){wallet.transactionId=param.response.response.googleTransactionId,console.log("Masked Wallet Response:"+JSON.stringify(param.response))},createWalletButtonFailureCallback=function(error){console.log("There was an error getting the Masked Wallet: "+JSON.stringify(error))};$scope.testPurchaseProduct=function(){google.wallet.online.setAccessToken("[accessToken]")},$scope.purchaseProduct=function(productID,quantity){console.log(productID),console.log(quantity);var optdesc="주문수량: "+quantity+"개";GetPurchaseJWT.query({productID:productID,qty:quantity,optdesc:optdesc}).$promise.then(function(response){google.payments.inapp.buy({parameters:{},jwt:response[0],success:function(result){console.log(result.jwt),createPaymentHistory(result)},failure:function(){window.alert("Your Payment transaction is failed")}})})};var createPaymentHistory=function(result){var payment=new Payments({name:result.request.name,price:Number(result.request.price),sellerData:result.request.sellerData,description:result.request.description,currencyCode:result.request.currencyCode,orderID:result.response.orderId});payment.$save(function(){},function(errorResponse){$scope.error=errorResponse.data.message})}}]),angular.module("user-interface").controller("ExperimentalinterfaceController",["$scope",function(){}]),angular.module("user-interface").controller("Front1Controller",["$scope","$log",function($scope){function master(){var takeOne=new TimelineLite;takeOne.to(box,2,{scale:.5,ease:Expo.easeOut}).to(box,3,{scale:.8,y:-120,ease:Expo.easeOut}).to(box,3,{rotation:180,transformOrigin:"50% 50%",ease:Expo.easeOut,onComplete:openCloseBox})}$scope.id="frint-1",$scope.tests=[];for(var index=0;4>index;index++)$scope.tests.push(index);$scope.title="의리미엄으로 가보자",$scope.clickProduct=function(index){console.log(index)};var closedBox,boxGraphic=Snap(".boxSvg"),headBox=boxGraphic.select("#box-lead"),upperBox=boxGraphic.select("#box-lead-target"),headBoxOpenPath=headBox.attr("d"),headBoxClosedPath=boxGraphic.select("#box-lead-target").attr("d");headBox.click(openCloseBox);var openCloseBox=function(){var path,ease;closedBox?(path=headBoxOpenPath,ease=mina.easein,closedBox=0,console.log("open Box")):(path=headBoxClosedPath,ease=mina.bounce,closedBox=1,console.log("close box")),headBox.stop().animate({d:path},1e3,ease)};openCloseBox(),upperBox.click(function(){console.log("upperBox")});var menuSvg=Snap("#menu1");menuSvg.attr({opacity:.2,fill:"#FFFFFF"});var menuSvg2=Snap("#menu2"),menuSvg3=Snap("#menu3"),circle1=menuSvg.circle(60,60,60),text1=(menuSvg2.circle(60,60,60),menuSvg3.circle(60,60,60),menuSvg.text(55,60,"D"));text1.attr({fill:"#FFFFFF"});var circleNText=menuSvg.group(circle1,text1);circleNText.drag(),TweenMax.ticker.fps(60);var box=$(".boxSvg");$(document).ready(master);for(var data=Snap.path.toCubic($(".boxSvg2 path").attr("d")),dataLength=data.length,points=[],i=(data.toString(),0);dataLength>i;i++){var seg=data[i];if("M"===seg[0]){var point={};point.x=seg[1],point.y=seg[2],points.push(point)}else for(var j=1;6>j;j+=2){var point={};point.x=seg[j],point.y=seg[j+1],points.push(point)}}TweenMax.to("#circleTarget",3,{bezier:{type:"cubic",values:points},force3D:!0,ease:Power0.easeNone})}]),angular.module("user-interface").controller("ListingProductController",["$scope","$log",function($scope){function partition(input,size){for(var newArr=[],i=0;i<input.length;i+=size)newArr.push(input.slice(i,i+size));return newArr}$scope.find=function(){$scope.products=Products.query(),$scope.products.$promise.then(function(result){$scope.partitioned=partition(result,3)})},$scope.testColumnSystem=function(numberOfColumn){$scope.partitioned=partition($scope.products,numberOfColumn)},$scope.listItemClick=function($index){var clickedItem=$scope.items[$index];$mdBottomSheet.hide(clickedItem)}}]),angular.module("user-interface").controller("McmuController",["$scope","$timeout",function($scope,$timeout){var svgMVMU=Snap("#faceSvg");Snap.load("modules/user-interface/img/mcmu/mcmu.svg",function(data){svgMVMU.append(data);var lylics_small=$("#song_small"),lylics_ah=$("#song_ah"),lylics_hak=$("#song_hak"),lylics_haak=$("#song_haak"),master=function(){{var mcmu=$("#faceSvg svg"),eyeBro=$("#eyebro path"),leftBro=($("#mouth1"),$("#mouth2"),eyeBro[0]),rightBro=eyeBro[2];document.getElementById("audioTag")}console.log(leftBro),console.log(rightBro);var closeMouth=$("#mouth1"),openMouth=$("#mouth2"),mouth_timeLine=new TimelineMax({repeat:3});mouth_timeLine.set(closeMouth,{opacity:0}).to(openMouth,.5,{opacity:1}).set(openMouth,{opacity:0}).set(closeMouth,{opacity:1});var screamSmell=new TimelineMax;screamSmell.from(lylics_small,.5,{scale:.5,autoAlpha:0,ease:Back.easeOut}).to(lylics_small,.1,{scale:.5,autoAlpha:1,ease:Back.easeOut}).set(lylics_small,{autoAlpha:0});var screamAh=new TimelineMax({repeat:8});screamAh.add(mouth_timeLine).from(lylics_ah,.5,{scale:.5,autoAlpha:0,ease:Back.easeOut}).to(lylics_ah,.5,{scale:1,autoAlpha:1,ease:Back.easeOut}).from(lylics_ah,.1,{scale:.5,autoAlpha:0,ease:Back.easeOut}).to(lylics_ah,.5,{scale:1,autoAlpha:1,ease:Back.easeOut}).from(lylics_ah,.5,{scale:.5,autoAlpha:0,ease:Back.easeOut}).to(lylics_ah,.1,{scale:1,autoAlpha:1,ease:Back.easeOut}).from(lylics_ah,.5,{scale:.5,autoAlpha:0,ease:Back.easeOut}).to(lylics_ah,.5,{scale:1,autoAlpha:1,ease:Back.easeOut}).from(lylics_ah,.5,{scale:.5,autoAlpha:0,ease:Back.easeOut}).to(lylics_ah,.5,{scale:1,autoAlpha:1,ease:Back.easeOut}).set(lylics_ah,{scale:1,autoAlpha:0,ease:Back.easeOut});var screamhak=new TimelineMax;screamhak.from(lylics_hak,1.5,{scale:.5,autoAlpha:0,ease:Back.easeOut}).to(lylics_hak,1.5,{scale:.5,autoAlpha:0,ease:Back.easeOut}).from(lylics_haak,1.5,{scale:.5,autoAlpha:0,ease:Back.easeOut}).to(lylics_haak,1.5,{scale:.5,autoAlpha:0,ease:Back.easeOut});var timeLine=new TimelineMax({paused:!0,delay:.2,onComplete:printComplete});timeLine.to(mcmu,3.3,{scale:.5,opacity:1}).to([leftBro,rightBro],1,{rotation:360,scale:1.2,fill:"red",opacity:1,transformOrigin:"50% 50%"}).add(screamSmell,3.7).add(screamAh,4.5).add(mouth_timeLine,4.5).add(screamhak,8),timeLine.stop(),$scope.totalTime=timeLine.totalDuration().toFixed(2),$timeout(function(){console.log("time out is done")},5e3)};master()});var printComplete=function(){console.log("complete")},boxes=$(".box"),stage=$(".stage");TweenLite.set(stage,{css:{perspective:400,transformStyle:"preserve-3d"}}),boxes.each(function(index,element){TweenLite.set(element,{css:{rotationY:20*index,transformOrigin:"left 50% -200"}}),TweenMax.to(element,20,{css:{rotationY:"+=180"},repeat:1,ease:Linear.easeNone})})}]),angular.module("user-interface").directive("article",["Articles",function(Articles){return{templateUrl:"modules/user-interface/directives/templates/article.html",restrict:"E",link:function(scope){scope.find=function(){scope.articles=Articles.query()},scope.find()}}}]),angular.module("user-interface").directive("mainInterface",["$compile",function($compile){return{templateUrl:"modules/user-interface/directives/templates/main-interface.html",restrict:"E",link:function(scope){var draggableTargets=$(".draggable-target"),ids=[];angular.forEach(draggableTargets,function(index){ids.push(index.id)}),console.log(ids),scope.clicked=!1,scope.dragable=!1,scope.dragin=!1;var sortable=$("#box"),box=Draggable.create(sortable,{type:"x,y",edgeResistance:.85,onDragStart:function(){TweenMax.to("#box",.25,{scale:.8}),console.log("Click")},onDrag:function(){TweenMax.to(".draggable-target",0,{opacity:1,backgroundColor:"lightgreen"}),angular.forEach(ids,function(index){box[0].hitTest("#"+index,20)&&TweenMax.to("#"+index,.25,{opacity:.5,backgroundColor:"lightgreen"})})},onDragEnd:function(){angular.forEach(ids,function(index){if(box[0].hitTest("#"+index,20)){var el=$compile("<article></article>")(scope);angular.element("#"+index).append(el),box[0].applyBounds("#widget_menu"),box[0].vars.bounds=""}}),TweenMax.to("#box",.25,{scale:1})}})}}}]),angular.module("user-interface").factory("Allproducts",["$resource",function($resource){return $resource("products/:productID",{productID:"@_id"})}]),angular.module("user-interface").factory("AllBanners",["$resource",function($resource){return $resource("banners",{productID:"@_id"})}]),angular.module("users").config(["$httpProvider",function($httpProvider){$httpProvider.interceptors.push(["$q","$location","Authentication",function($q,$location,Authentication){return{responseError:function(rejection){switch(rejection.status){case 401:Authentication.user=null,$location.path("signin");break;case 403:}return $q.reject(rejection)}}}])}]),angular.module("users").config(["$stateProvider",function($stateProvider){$stateProvider.state("profile",{url:"/settings/profile",templateUrl:"modules/users/views/settings/edit-profile.client.view.html"}).state("password",{url:"/settings/password",templateUrl:"modules/users/views/settings/change-password.client.view.html"}).state("accounts",{url:"/settings/accounts",templateUrl:"modules/users/views/settings/social-accounts.client.view.html"}).state("signup",{url:"/signup",templateUrl:"modules/users/views/authentication/signup.client.view.html"}).state("signin",{url:"/signin",templateUrl:"modules/users/views/authentication/signin.client.view.html"}).state("forgot",{url:"/password/forgot",templateUrl:"modules/users/views/password/forgot-password.client.view.html"}).state("reset-invalid",{url:"/password/reset/invalid",templateUrl:"modules/users/views/password/reset-password-invalid.client.view.html"}).state("reset-success",{url:"/password/reset/success",templateUrl:"modules/users/views/password/reset-password-success.client.view.html"}).state("reset",{url:"/password/reset/:token",templateUrl:"modules/users/views/password/reset-password.client.view.html"})}]),angular.module("users").controller("AuthenticationController",["$scope","$http","$timeout","$location","$mdDialog","Authentication","Users",function($scope,$http,$timeout,$location,$mdDialog,Authentication){$scope.authentication=Authentication,$scope.user=Authentication.user,$scope.signup=function(){$http.post("/auth/signup",$scope.credentials).success(function(response){$scope.authentication.user=response,$mdDialog.hide()}).error(function(response){$scope.error=response.message})},$scope.signin=function(){$http.post("/auth/signin",$scope.credentials).success(function(response){$scope.authentication.user=response,$mdDialog.hide()}).error(function(response){$scope.error=response.message})}}]),angular.module("users").controller("PasswordController",["$scope","$stateParams","$http","$location","Authentication",function($scope,$stateParams,$http,$location,Authentication){$scope.authentication=Authentication,$scope.authentication.user&&$location.path("/"),$scope.askForPasswordReset=function(){$scope.success=$scope.error=null,$http.post("/auth/forgot",$scope.credentials).success(function(response){$scope.credentials=null,$scope.success=response.message}).error(function(response){$scope.credentials=null,$scope.error=response.message})},$scope.resetUserPassword=function(){$scope.success=$scope.error=null,$http.post("/auth/reset/"+$stateParams.token,$scope.passwordDetails).success(function(response){$scope.passwordDetails=null,Authentication.user=response,$location.path("/password/reset/success")}).error(function(response){$scope.error=response.message})}}]),angular.module("users").controller("SettingsController",["$scope","$http","$location","Users","Authentication",function($scope,$http,$location,Users,Authentication){$scope.user=Authentication.user,$scope.user||$location.path("/"),$scope.hasConnectedAdditionalSocialAccounts=function(){for(var i in $scope.user.additionalProvidersData)return!0;return!1},$scope.isConnectedSocialAccount=function(provider){return $scope.user.provider===provider||$scope.user.additionalProvidersData&&$scope.user.additionalProvidersData[provider]},$scope.removeUserSocialAccount=function(provider){$scope.success=$scope.error=null,$http["delete"]("/users/accounts",{params:{provider:provider}}).success(function(response){$scope.success=!0,$scope.user=Authentication.user=response}).error(function(response){$scope.error=response.message})},$scope.updateUserProfile=function(isValid){if(isValid){$scope.success=$scope.error=null;var user=new Users($scope.user);user.$update(function(response){$scope.success=!0,Authentication.user=response},function(response){$scope.error=response.data.message})}else $scope.submitted=!0},$scope.changeUserPassword=function(){$scope.success=$scope.error=null,$http.post("/users/password",$scope.passwordDetails).success(function(){$scope.success=!0,$scope.passwordDetails=null}).error(function(response){$scope.error=response.message})}}]),angular.module("users").factory("Authentication",[function(){var _this=this;return _this._data={user:window.user},_this._data}]),angular.module("users").factory("Users",["$resource",function($resource){return $resource("users",{},{update:{method:"PUT"}})}]).factory("UsersRole",["$resource",function($resource){return $resource("users/role",{},{update:{method:"PUT"}})}]),angular.module("util").directive("prism",[function(){return{restrict:"A",link:function(scope,element){element.ready(function(){Prism.highlightElement(element[0])})}}}]);